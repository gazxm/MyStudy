/* 2017-01-18 */!function(a){a.fn.citySelect=function(b){if(!(this.length<1)){b=a.extend({url:"../shopInformation.js",prov:null,city:null,dist:null},b);var c,d=this,e=d.find(".prov"),f=d.find(".city"),g=d.find(".dist"),h=(b.prov,b.city,b.dist,function(){var b="";b+="<option>-请选择-</option>";var d=e.get(0).selectedIndex-1;return console.log(d),d<0||"undefined"==c.citylist[d].c?void g.css("visibility","hidden"):(a.each(c.citylist[d].c,function(a,c){b+="<option value='"+c.n+"'>"+c.n+"</option>"}),f.html(b),void i())}),i=function(){var d="",h=e.get(0).selectedIndex-1,i=f.get(0).selectedIndex-1;return g.empty().attr("disabled",!0),h<0||i<0||"undefined"==c.citylist[h].c[i].a?void("none"==b.nodata?g.css("display","none"):"hidden"==b.nodata&&g.css("visibility","hidden")):(a.each(c.citylist[h].c[i].a,function(a,b){d+="<div><h2>"+b.s[0].name+"</h2><h3>"+b.s[0].address+"</h3><h4>"+b.s[0].tel+"</h4></div>"}),void g.html(d).attr("disabled",!1).css({display:"",visibility:""}))},j=function(){var d="",j="<option>-请选择-</option>";d+=j,a.each(c.citylist,function(a,b){d+="<option value='"+b.p+"'>"+b.p+"</option>"}),e.html(d),f.html(j),a(".prov").find("option:eq(0)").attr("selected",!0),a(".city").find("option:eq(0)").attr("selected",!0),setTimeout(function(){null!=b.prov&&(e.val(b.prov),h(),setTimeout(function(){null!=b.city&&(f.val(b.city),i(),setTimeout(function(){null!=b.dist&&g.val(b.dist)},1))},1))},1),e.bind("change",function(){h()}),f.bind("change",function(){i()})};"string"==typeof b.url&&a.getJSON(b.url,function(a){c=a,j()})}}}(jQuery);