<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Array的迭代方法和缩小方法</title>
	<script>
		console.log("-------迭代方法：every(),filter(),forEach(),map()和some()-----");
		/*有5个迭代方法，每个方法都接收两个参数：1、要在每一项运行的函数;2、(可选的)运行该函数的作用域对象——会影响this的值。 
			传入这些方法中的函数会接收三个参数：1、数组项的值;2、该项在数组中的位置;3、数组对象本身
			every():对数组中的每一项运行给定函数,如果该函数对每一项都返回true，则返回true;
			filter():对数组中的每一项运行给定函数，返回该函数会返回true的项组成的数组。
			forEach():对数组中的每一项运行给定函数。这个方法没有返回值。
			map():对数组中的每一项运行给定函数。返回每次函数调用的结果组成的数组。
			some():对数组中的每一项运行给定函数。如果该函数对任一项返回true，则返回true。
		以上方法都不会修改数组中的包含的值。
		*/

		/* 在这些方法中，最相似的是every()和some()，它们都用于查询数组中的项是否满足某个条件。对every()来说，传入的函数必须对每一项都返回true，这个方法才返回true;否则就返回false。而some()方法则是只要传入的函数对数组中的某一项返回true，就会返回true。
		*/
		var numbers = [1, 2, 3, 4, 5, 4, 3, 2, 1];

		var everyResult = numbers.every(function(item, index, array){
			return (item > 2);
		});
		var someResult = numbers.some(function(item, index, array){
			return (item > 2);
		});
		console.log(everyResult, someResult);		//false  true  返回的是boolean类型

		var filterResult = numbers.filter(function(item, index, array){
			return (item > 2);
		});
		console.log(filterResult);	//[3, 4, 5, 4, 3] 返回是数组

		var mapResult = numbers.map(function(item, index, array){
			return item * 2;
		});
		console.log(mapResult);	//[2, 4, 6, 8, 10, 8, 6, 4, 2]

		numbers.forEach(function(item, index, array){
			if(item > 2) {
				item = item * 10;
			}
		});
		console.log(numbers);		//[1, 2, 3, 4, 5, 4, 3, 2, 1]		以上所有操作都不会修改数组中的包含的值

		console.log("---------缩小方法:reduce()和reduceRight()-----------");
		/*	reduce()和reduceRight()。这两个方法都会迭代数组的所有项，然后构建一个最终返回的值。其中，reduce()方法从数组的第一项开始，逐个遍历到最后。而reduceRight()则从数组的最后一项开始，向前遍历到第一项。
			这两个方法都接收两个参数：1、每一项上调用的函数
																2、(可选的)作为缩小基础的初始值。
			传给reduce()和reduceRight()的函数接收4个参数：前一个值、当前值、项的索引和数组对象。这个函数返回的任何值都会作为第一个参数自动传给下一项。第一次迭代发送在数组的第二项上，因此第一个参数是数组的第一项，第二个参数就是数组的第二项。
		*/
		var values = [1, 2, 3, 4, 5, 10, 18];
		var sum1 = values.reduce(function(prev, cur, index, array) {
			console.log(prev + "," + cur);	// 1,2  3,3  6,4  10,5  15,10  25,18
			return prev + cur;
		});
		console.log(sum1);	//43

		var sum2 = values.reduceRight(function(prev, cur, index, array) {
			console.log(prev + "," + cur);	// 18,10  28,5  33,4  37,3  40,2  42,1
			return prev + cur;
		});
		console.log(sum2);		//43
		console.log(values);	//[1, 2, 3, 4, 5, 10, 18]
	</script>
</head>
<body>
	
</body>
</html>