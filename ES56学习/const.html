<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>ES6:const</title>
  <script type="text/javascript"></script>
  <style type="text/css"></style>
</head>

<body>
</body>

<script>
	//'use strict';
	const PI = 3.1414;
	console.log(PI);

	//PI = 3;	//TypeError: Assignment to constant variable.

	//const a;	//SyntaxError: Missing initializer in const declaration
	//const声明的变量不得改变值，这意味着，const一旦声明变量，就必须立即初始化，不能留到以后赋值。

	//对于复合类型的变量，变量名不指向数据，而是指向数据所在的地址。const命令只是保证变量名指向的地址不变，并不保证该地址的数据不变，所以将一个对象声明为常量必须非常小心。

	const foo = {};
	foo.prop = 123;

	console.log(foo.prop);	//123

	//foo = {};	//TypeError: 'foo' is read-only
	//上面代码中，常量foo储存的是一个地址，这个地址指向一个对象。不可变的只是这个地址，即不能把foo指向另一个地址，但对象本身是可变的，所以依然可以为其添加新属性。

	const a = [];
	a.push('Hello');
	console.log(a);	// ["Hello"]
	a.length = 0;
	//a = ['Dave'];		//报错

	//将对象冻结，应该使用Object.freeze方法
	const foo1 = Object.freeze({'number': '333'});
	console.log(foo1);	//	Object {number: "333"}
	//foo1.prop = 333;
	//	常规模式下不起作用，严格模式下，Can't add property prop, object is not extensible
	console.log(foo1);	//	Object {number: "333"}
	foo1.number = '123';
	console.log(foo1);
</script>

</html>
