webpackJsonp([188],{1335:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(778),r=n(l),i=a(62),o=n(i),c=a(136),u=n(c),f=a(28),d=n(f),s=a(29),m=n(s),p=a(124),g=n(p),h=a(125),v=n(h),k=a(27),y=n(k),C=a(161),b=(n(C),a(56)),E=n(b),w=a(54),_=function(e){function t(e){(0,d.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return a.onChange=function(e,t,n){a.setState({files:e})},a.onChangeTwo=function(e,t,n){a.setState({filesTwo:e})},a.safe=function(){var e=a.state,t=e.files,n=e.name,l=e.id;E.default.loading(""),(0,w.post)("http://credit.xianjincard.com/user-info/id-card",{name:n,id_number:l,image:t[0].url}).then(function(e){return e.data}).then(function(e){E.default.hide(),e.data.matting_image&&(e.data.matting_image="图片base64编码"),a.setState({data:a.formatJson((0,o.default)(e))})})},a.online=function(){var e=a.state.filesTwo;E.default.loading(""),(0,w.post)("http://credit.xianjincard.com/user-info/face",{image:e[0].url}).then(function(e){return e.data}).then(function(e){E.default.hide(),a.setState({dataTwo:a.formatJson((0,o.default)(e))})})},a.state={files:[],filesTwo:[],name:"",id:"",data:"",dataTwo:""},a}return(0,v.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){document.title="百度认证"}},{key:"formatJson",value:function(e,t){var a=null,n="",l=0;return t=t||{},t.newlineAfterColonIfBeforeBraceOrBracket=!0===t.newlineAfterColonIfBeforeBraceOrBracket,t.spaceAfterColon=!1!==t.spaceAfterColon,"string"!=typeof e?e=(0,o.default)(e):(e=JSON.parse(e),e=(0,o.default)(e)),a=/([\{\}])/g,e=e.replace(a,"\r\n$1\r\n"),a=/([\[\]])/g,e=e.replace(a,"\r\n$1\r\n"),a=/(\,)/g,e=e.replace(a,"$1\r\n"),a=/(\r\n\r\n)/g,e=e.replace(a,"\r\n"),a=/\r\n\,/g,e=e.replace(a,","),t.newlineAfterColonIfBeforeBraceOrBracket||(a=/\:\r\n\{/g,e=e.replace(a,":{"),a=/\:\r\n\[/g,e=e.replace(a,":[")),t.spaceAfterColon&&(a=/\:/g,e=e.replace(a,": ")),e.split("\r\n").forEach(function(e,t){var a=0,r=0,i="";for(e.match(/\{$/)||e.match(/\[$/)?r=1:e.match(/\}/)||e.match(/\]/)?0!==l&&(l-=1):r=0,a=0;a<l;a++)i+="";n+=i+e+"\r\n",l+=r}),n}},{key:"handleChange",value:function(e){e.target.value.match(/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/)?this.setState({error:!1}):this.setState({error:!0}),this.setState({id:e.target.value})}},{key:"handleChangeTwo",value:function(e){this.setState({name:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.files,a=e.filesTwo,n=e.id,l=e.name,i=e.error,o=e.data,c=e.dataTwo;return y.default.createElement("div",{className:"test",style:{background:"#fff",width:"10rem",paddingTop:"1px"}},y.default.createElement("h1",null,"公安验证"),y.default.createElement(r.default,{files:t,onChange:this.onChange,selectable:t.length<1}),y.default.createElement("input",{style:{display:"block",lineHeight:"1rem",margin:"0.4rem 0 0 0.4rem",width:"7rem"},type:"text",value:n,placeholder:"请输入身份证号",onChange:this.handleChange.bind(this)}),y.default.createElement("h2",{style:{display:i?"block":"none",color:"#ff8b00",margin:"0.2rem 0 0 0.4rem"}},"请输入正确的身份证号"),y.default.createElement("input",{style:{display:"block",lineHeight:"1rem",margin:"0.4rem 0 0 0.4rem",width:"7rem"},type:"text",value:l,placeholder:"请输入姓名",onChange:this.handleChangeTwo.bind(this)}),y.default.createElement("a",{style:{display:"block",margin:"0.4rem 0 0 0.4rem",width:"3rem",lineHeight:"1rem",background:"#4ab6fa",color:"#fff",textAlign:"center",fontSize:"0.5rem"},onClick:this.safe},"公安验证"),y.default.createElement("pre",{style:{margin:"0.4rem 0 0 0.4rem",width:"9rem",wordWrap:"break-word"}},o),y.default.createElement("h1",null,"活体在线"),y.default.createElement(r.default,{files:a,onChange:this.onChangeTwo,selectable:a.length<1}),y.default.createElement("a",{style:{display:"block",margin:"0.4rem 0 0 0.4rem",width:"3rem",lineHeight:"1rem",background:"#4ab6fa",color:"#fff",textAlign:"center",fontSize:"0.5rem"},onClick:this.online},"活体在线"),y.default.createElement("pre",{style:{margin:"0.4rem 0 0 0.4rem",width:"9rem",wordWrap:"break-word"}},c))}}]),t}(y.default.Component);t.default=_,e.exports=t.default},161:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(57),r=n(l),i=a(28),o=n(i),c=a(29),u=n(c);t.default=new(function(){function e(){(0,o.default)(this,e)}return(0,u.default)(e,[{key:"createDom",value:function(e,t,a,n){var l=this,i={overlay:!0,span:!0};(0,r.default)(i,n),this.callback=a;var o='<div class="popup-cover"></div>\n                  <div class="content">\n                    <span class="close" style="'+(i.span?"":"display: none;")+'"></span>\n                    '+e+"\n                  </div>",c=document.createElement("div");c.className="popup-container "+(t||""),c.innerHTML=o,document.body.appendChild(c),c.querySelector("div.content").className="content in",c.querySelector("div.popup-cover").addEventListener("click",function(e){e.stopPropagation(),i.overlay&&l.close(e)},!1),c.querySelector("span.close").addEventListener("click",function(e){e.preventDefault(),i.span&&l.close(e)},!1),this.dom=c}},{key:"addEventListener",value:function(e,t,a){for(var n=this.dom.querySelectorAll(e),l=0,r=n.length;l<r;l++)n[l].addEventListener(t,function(e){e.preventDefault(),a(e)},!1)}},{key:"click",value:function(e,t){var a=this;this.addEventListener(e,"click",function(e){a.close(e,t)})}},{key:"clickAndClose",value:function(e,t){var a=this;this.addEventListener(e,"click",function(e){t(a.close.bind(a,e),e)})}},{key:"closeClick",value:function(e,t){this.dom.querySelector(e).addEventListener("click",function(e){e.preventDefault(),t&&t(e)},!1)}},{key:"close",value:function(e,t){var a=this;e.preventDefault(),this.dom.querySelector("div.content").className="content out",setTimeout(function(){a.dom.parentNode.removeChild(a.dom),a.callback&&a.callback(),t&&t(e)},200)}},{key:"alert",value:function(e,t,a,n){this.createDom(e,t,a,n)}}]),e}()),e.exports=t.default},778:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var r=a(129),i=n(r),o=a(28),c=n(o),u=a(29),f=n(u),d=a(124),s=n(d),m=a(125),p=n(m),g=a(27),h=n(g),v=a(128),k=n(v),y=a(779),C=n(y),b=a(520),E=n(b),w=a(174),_=n(w),I=a(143),S=n(I),x=E.default.Item,N=function(e){function t(){(0,c.default)(this,t);var e=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.getOrientation=function(e,t){var a=new FileReader;a.onload=function(e){var a=new DataView(e.target.result);if(65496!==a.getUint16(0,!1))return t(-2);for(var n=a.byteLength,l=2;l<n;){var r=a.getUint16(l,!1);if(l+=2,65505===r){if(1165519206!==a.getUint32(l+=2,!1))return t(-1);var i=18761===a.getUint16(l+=6,!1);l+=a.getUint32(l+4,i);var o=a.getUint16(l,i);l+=2;for(var c=0;c<o;c++)if(274===a.getUint16(l+12*c,i))return t(a.getUint16(l+12*c+8,i))}else{if(65280!=(65280&r))break;l+=a.getUint16(l,!1)}}return t(-1)},a.readAsArrayBuffer(e.slice(0,65536))},e.getRotation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=0;switch(e){case 3:t=180;break;case 6:t=90;break;case 8:t=270}return t},e.removeImage=function(t){var a=[],n=e.props.files;(void 0===n?[]:n).forEach(function(e,n){t!==n&&a.push(e)}),e.props.onChange&&e.props.onChange(a,"remove",t)},e.addImage=function(t){var a=e.props.files,n=void 0===a?[]:a,l=n.concat(t);e.props.onChange&&e.props.onChange(l,"add")},e.onImageClick=function(t){e.props.onImageClick&&e.props.onImageClick(t,e.props.files)},e.onFileChange=function(){var t=e.refs.fileSelectorInput;if(t.files&&t.files.length){var a=t.files[0],n=new FileReader;n.onload=function(n){var l=n.target.result;if(!l)return void _.default.fail("图片获取失败");var r=1;e.getOrientation(a,function(n){n>0&&(r=n),e.addImage({url:l,orientation:r,file:a}),t.value=""})},n.readAsDataURL(a)}},e}return(0,p.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.prefixCls,l=a.style,r=a.className,o=a.files,c=void 0===o?[]:o,u=a.selectable,f=a.onAddImageClick,d=[],s=(0,k.default)((e={},(0,i.default)(e,""+n,!0),(0,i.default)(e,r,r),e));c.forEach(function(e,a){var l={backgroundImage:"url("+e.url+")",transform:"rotate("+t.getRotation(e.orientation)+"deg)"};d.push(h.default.createElement(x,{key:"item-"+a},h.default.createElement("div",{key:a,className:n+"-item"},h.default.createElement("div",{className:n+"-item-remove",role:"button","aria-label":"Click and Remove this image",onClick:function(){t.removeImage(a)}}),h.default.createElement("div",{className:n+"-item-content",role:"button","aria-label":"Image can be clicked",onClick:function(){t.onImageClick(a)},style:l}))))});var m=h.default.createElement(S.default,{activeClassName:n+"-upload-btn-active",key:"select"},h.default.createElement(x,null,h.default.createElement("div",{className:n+"-item "+n+"-upload-btn",onClick:f,role:"button","aria-label":"Choose and add image"},h.default.createElement("input",{ref:"fileSelectorInput",type:"file",accept:"image/jpg,image/jpeg,image/png,image/gif",onChange:function(){t.onFileChange()}})))),p=u?d.concat([m]):d,g=p.length;if(0!==g&&g%4!=0){for(var v=4-g%4,y=[],b=0;b<v;b++)y.push(h.default.createElement(x,{key:"blank-"+b}));p=p.concat(y)}for(var w=[],_=0;_<p.length/4;_++){var I=p.slice(4*_,4*_+4);w.push(I)}var N=w.map(function(e,t){return h.default.createElement(E.default,{key:"flex-"+t},e)});return h.default.createElement("div",{className:s,style:l},h.default.createElement("div",{className:n+"-list",role:"group"},h.default.createElement(C.default,{size:"md"},N)))}}]),t}(h.default.Component);t.default=N,N.defaultProps={prefixCls:"am-image-picker",files:[],onChange:l,onImageClick:l,onAddImageClick:l,selectable:!0},e.exports=t.default},779:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(129),r=n(l),i=a(28),o=n(i),c=a(29),u=n(c),f=a(124),d=n(f),s=a(125),m=n(s),p=a(27),g=n(p),h=a(128),v=n(h),k=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.prefixCls,n=t.size,l=t.className,i=t.children,o=t.style,c=(0,v.default)((e={},(0,r.default)(e,""+a,!0),(0,r.default)(e,a+"-"+n,!0),(0,r.default)(e,l,!!l),e));return g.default.createElement("div",{className:c,style:o},i)}}]),t}(g.default.Component);t.default=k,k.defaultProps={prefixCls:"am-wingblank",size:"lg"},e.exports=t.default}});