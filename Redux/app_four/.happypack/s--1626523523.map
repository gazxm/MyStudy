{"version":3,"sources":["src\\js\\pages\\misc\\app-mart\\detail.js"],"names":["Approve","props","state","model","infos","images","document","title","loading","id","location","query","app_id","type","then","data","code","fail","message","hide","setState","install_url","imgs","map","v","i","img","info","item","detail","icon","name","size","brief_info","introduction","download","bind","Component"],"mappings":"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","file":"detail.js","sourceRoot":"E:/MyStudy/Redux/app_four","sourcesContent":["import React from 'react'\r\nimport {Toast} from 'antd-mobile'\r\nimport {post, callBrowser} from 'utils'\r\nimport 'scss/misc/app-mart.component.scss'\r\n\r\nexport default class Approve extends React.Component {\r\n    // 初始化加载\r\n\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      model: {},\r\n      infos: [],\r\n      images: []\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    document.title = '应用详情'\r\n    Toast.loading('加载中...', 0)\r\n    const id = this.props.location.query.id\r\n    post('http://credit.xianjincard.com/appstore/action-log', {app_id: id, type: '2'})\r\n    post('http://credit.xianjincard.com/appstore/app', {id: id}).then(data => data.data).then(data => {\r\n      if (data.code !== 0) {\r\n        Toast.fail(data.message, 1.5)\r\n        return\r\n      }\r\n      Toast.hide()\r\n      this.setState({\r\n        model: data.data.model,\r\n        infos: data.data.infos,\r\n        images: data.data.images\r\n      })\r\n    })\r\n  }\r\n\r\n  download () {\r\n    const { install_url } = this.state.model\r\n    const id = this.props.location.query.id\r\n    post('http://credit.xianjincard.com/appstore/action-log', {app_id: id, type: '1'})\r\n    callBrowser(install_url)\r\n  }\r\n\r\n  render () {\r\n    const {model, images, infos} = this.state\r\n    const imgs = images ? images.map((v, i) =>\r\n      <img key={i} src={v.img} />\r\n    ) : null\r\n    const info = infos ? infos.map((v, i) => <p key={i}><span className='left'>{v.item}</span><span>{v.detail}</span></p>) : null\r\n\r\n    return (\r\n      <div className='app-mart-detail'>\r\n        <div className='brief clearfix'>\r\n          <img src={model.icon} />\r\n          <div className='right'>\r\n            <h2>{model.name}</h2>\r\n            <p>{model.size} MB</p>\r\n            <h3>{model.brief_info}</h3>\r\n          </div>\r\n        </div>\r\n        <div className='imgs'>\r\n          <div className='content'>\r\n            {imgs}\r\n          </div>\r\n        </div>\r\n        <div className='intro'>\r\n          <h3>应用介绍</h3>\r\n          <p>{model.introduction}</p>\r\n        </div>\r\n        <div className='info'>\r\n          <h3>应用信息</h3>\r\n          {info}\r\n        </div>\r\n        <div className='btn-area'>\r\n          <a className='btn' onClick={this.download.bind(this)}>安装</a>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}