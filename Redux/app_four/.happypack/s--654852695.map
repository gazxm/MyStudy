{"version":3,"sources":["src\\js\\pages\\activity\\personal-tailor\\index.js"],"names":["index","props","state","data","loading","then","hide","code","alert","showHtml","click","setState","document","title","showRule","popup","forWord","id","forwordHtml","length","map","v","i","showPopup","name","icon","bind","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;I,AAEqB;iCACnB;;iBAAA,AAAa,OAAO;wCAAA;;oIAAA,AACZ,AACN;;UAAA,AAAK;YAFa,AAElB,AAAa,AACL;AADK,AACX;WAEH;;;;;yCAEqB;mBACpB;;sBAAA,AAAM,QAAN,AAAc,AACd;sBAAA,AAAI,+DAAJ,AAAmE,KAAK,gBAAA;eAAQ,KAAR,AAAa;AAArF,SAAA,AAA2F,KAAK,gBAAQ,AACtG;wBAAA,AAAM,AACN;YAAI,KAAA,AAAK,SAAT,AAAkB,GAAG,AACnB;0BAAA,AAAM,MAAM,kBAAA,AAAQ,SAAS,KAA7B,AAAY,AAAsB,OAAlC,AAAyC,AACzC;0BAAA,AAAM,MAAN,AAAY,AACZ;AACD;AACD;eAAA,AAAK;gBACG,KADR,AAAc,AACD,AAEd;AAHe,AACZ;AARJ,AAWD;;;;wCAEoB,AACnB;eAAA,AAAS,QAAT,AAAiB,AACjB;wBAAA,AAAM,AACP;;;;+BAEW,AACV;sBAAA,AAAM,MAAM,kBAAZ,AAAY,AAAQ,YAApB,AAAgC,AACjC;;;;8B,AAEU,MAAM;mBACf;;sBAAA,AAAM,MAAM,kBAAA,AAAQ,MAApB,AAAY,AAAc,OAA1B,AAAiC,AACjC;sBAAA,AAAM,MAAN,AAAY,WAAW,YAAM,AAC3B;eAAA,AAAK,QAAQ,KAAb,AAAkB,AACnB;AAFD,AAGD;;;;4BAEQ,A,IAAI,AACX;sBAAA,AAAM,QAAN,AAAc,AACd;0FAAA,AAAsE,IAAtE,AAA4E,KAAK,gBAAA;eAAQ,KAAR,AAAa;AAA9F,SAAA,AAAoG,KAAK,gBAAQ,AAC/G;wBAAA,AAAM,AACN;YAAI,KAAA,AAAK,SAAT,AAAkB,GAAG,AACnB;0BAAA,AAAM,MAAM,kBAAA,AAAQ,SAAS,KAA7B,AAAY,AAAsB,OAAlC,AAAyC,AACzC;cAAI,KAAA,AAAK,SAAS,CAAlB,AAAmB,MAAM,AACvB;4BAAA,AAAM,MAAN,AAAY,kBACZ;AACD;AACD;0BAAA,AAAM,MAAN,AAAY,AACZ;AACD;AACD;mBACD;AAZD,AAaD;;;;6BAES;mBAAA;;UAAA,AACA,OAAS,KADT,AACc,MADd,AACA,AACR;;UAAM,mBAAc,AAAK,SAAL,AAAc,SAAI,AAAK,IAAI,UAAA,AAAC,GAAD,AAAI,GAAJ;+BAAU,cAAA,QAAI,KAAJ,AAAS,GAAG,SAAS,mBAAA;mBAAM,OAAA,AAAK,UAAX,AAAM,AAAe;AAA1C,AAA8C,aAA9C,kBAA8C,cAAA,MAAK,QAAnD,AAA8C,AAAO,AAAU,8CAAK,KAAK,EAAnF,AAAU,AAA+D,AAAY;AAAhH,AAAkB,OAAA,CAAlB,GAApB,AAAqJ,AAErJ;;aACE,gBAAA,cAAA,SAAK,WAAL,AAAe,AACb,sCAAA,cAAA,SAAK,WAAL,AAAe,AACb,qCAAA,cAAA,OAAG,WAAH,AAAa,QAAO,SAAS,KAAA,AAAK,SAAL,AAAc,KAA3C,AAA6B,AAAmB,SAAS,oDAAzD,OADF,AACE,AACA,iCAAA,cAAA,MACG,MALT,AACE,AACE,AAEE,AAMP;;;;EAtEgC,gBAAM,A;;kBAApB,A","file":"index.js","sourceRoot":"E:/MyStudy/Redux/app_four","sourcesContent":["import React from 'react'\r\nimport Content from './Content'\r\nimport Popup from '../components/Popup'\r\nimport Toast from '../../../components/Toast'\r\nimport { get, login, goHome, share } from 'utils'\r\nimport 'scss/activity/personal-tailor.component.scss'\r\n\r\nexport default class index extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      data: []\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    Toast.loading('')\r\n    get('http://credit.xianjincard.com/activity/scene-tags-act/index').then(data => data.data).then(data => {\r\n      Toast.hide()\r\n      if (data.code !== 0) {\r\n        Popup.alert(Content.showHtml(data.code), 'popup')\r\n        Popup.click('a.click')\r\n        return\r\n      }\r\n      this.setState({\r\n        data: data.data\r\n      })\r\n    })\r\n  }\r\n\r\n  componentDidMount () {\r\n    document.title = '私人订制'\r\n    share('personal')\r\n  }\r\n\r\n  showRule () {\r\n    Popup.alert(Content.showRule(), 'popup-rule')\r\n  }\r\n\r\n  showPopup (data) {\r\n    Popup.alert(Content.popup(data), 'popup-show')\r\n    Popup.click('a.click', () => {\r\n      this.forWord(data.id)\r\n    })\r\n  }\r\n\r\n  forWord (id) {\r\n    Toast.loading('')\r\n    get(`http://credit.xianjincard.com/activity/scene-tags-act/click?id=${id}`).then(data => data.data).then(data => {\r\n      Toast.hide()\r\n      if (data.code !== 0) {\r\n        Popup.alert(Content.showHtml(data.code), 'popup')\r\n        if (data.code === -1001) {\r\n          Popup.click('a.click', login)\r\n          return\r\n        }\r\n        Popup.click('a.click')\r\n        return\r\n      }\r\n      goHome()\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const { data } = this.state\r\n    const forwordHtml = data.length > 0 ? data.map((v, i) => <li key={i} onClick={() => this.showPopup(v)}><h3>{v.name}</h3><img src={v.icon} /></li>) : null\r\n\r\n    return (\r\n      <div className='transition-group'>\r\n        <div className='personal-tailor'>\r\n          <a className='rule' onClick={this.showRule.bind(this)}>活动<br />规则</a>\r\n          <ul>\r\n            {forwordHtml}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}