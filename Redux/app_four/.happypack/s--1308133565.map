{"version":3,"sources":["src\\js\\pages\\integral\\mall-category.js"],"names":["title","Item","Mall","state","visible","loaded","document","id","props","params","loading","undefined","then","response","data","name","items","hide","setState","catch","code","message","fail","setTimeout","goBack","length","map","item","index","push","default_img","backgroundImage","disc_price","price","active","status"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;AACA;;AAEA;;;;AACA;;;;AACA;;AAEA;;;;;;AARA;AAUA,IAAI,QAAJ,AAAY;AACZ,IAAI,OAAO,eAAX,AAAgB;;IAEK,A;;;;;;;;;;;;;;4MACjB,A;qBAAQ,AACK,AACT;oBAFI,AAEI,A;AAFJ,AACJ;;;;;4CAGe;yBACf;;qBAAA,AAAS,QADM,AACf,AAAiB;gBADF,AAEV,KAAM,KAAA,AAAK,MAFD,AAEO,OAFP,AAEV,AACL;;4BAAA,AAAM,QAAN,AAAc,WAAd,AAAyB,AACzB;yEAAA,AAA4C,IAA5C,AAAkD,KAAK,oBAAY;qCAC3C,SAD2C,AAClC;oBADkC,AAC1D,sBAD0D,AAC1D;oBAD0D,AACpD,uBADoD,AACpD,AACX;;gCAAA,AAAM,AACN;yBAAS,SAAA,AAAS,QAAlB,AAA0B,AAC1B;uBAAA,AAAK;2BAAS,AAEV;4BAFJ,AAAc,AAEF,AAEf;AAJiB,AACV;AALR,eAAA,AAQG,MAAM,oBAAY;oBAAA,AACZ,OADY,AACK,SADL,AACZ;oBADY,AACN,UADM,AACK,SADL,AACN,AACX;;gCAAA,AAAM,KAAN,AAAW,SAAX,AAAoB,KAAK,YAAM,AAC3B;+BAAW,gBAAX,AAAoB,AACvB;AAFD,AAGH;AAbD,AAcH;;;;iCACO;yBACkB,KADlB,AACuB;gBADvB,AACC,eADD,AACC;gBADD,AACQ,gBADR,AACQ,AACZ;;mBACI,gBAAA,cAAA,SAAK,WAAW,0BAAW,EAAC,gEAAD,AAAiE,MAAM,QAAlG,AAAgB,AAAW,AACvB,6BAAA,cAAA,SAAK,WAAL,AAAe,AACX,2BAAA,qBAAA,SACM,eAAS,MAAV,AAAgB,yBACb,cAAA,QAAI,WAAJ,AAAc,AACT,qBAAA,AAAM,IAAI,UAAA,AAAC,MAAD,AAAO,OAAP;uBACP,gBAAA,cAAA,QAAI,KAAJ,AAAS,OAAO,SAAS,mBAAA;+BAAM,gBAAA,AAAS,oCAAkC,KAAjD,AAAM,AAAgD;AAA/E,AACI,yCAAA,cAAA,OAAK,6CAAK,WAAL,AAAe,WAAU,OAAO,KAAA,AAAK,cAAc,EAAC,0BAAwB,KAAxB,AAA6B,cAAjD,AAAmB,QAD5D,AACI,AAAK,AAAmG,AACxG,wBAAA,cAAA,SAAK,WAAL,AAAe,AACX,iCAAA,cAAA,SAAK,WAAL,AAAe,AACX,2BAAA,cAAA,QAAO,WAFf,AACI,AACI,AAAY,AAEhB,wBAAA,cAAA,SAAK,WAAL,AAAe,AACX,6BAAA,cAAA,SAAK,WAAL,AAAe,AACX,2BAAA,cAAA,QAAO,WAAA,AAAK,aAAL,AAAkB,IAAI,KAAtB,AAA2B,aAAa,KADnD,AACI,AAAoD,QAF5D,AACI,AAGA,iCAAA,cAAA,SAAK,WAAW,0BAAW,EAAC,UAAD,AAAW,MAAM,QAAQ,KAAA,AAAK,UAAzD,AAAgB,AAAW,AAAwC,AAC9D,aAAA,AAAK,SAAL,AAAc,QAZxB,AACP,AAEI,AAII,AAII,AAC2B;AAdlD,AACG,AACK,cADL,IAoBF,gBAAA,cAAA,SAAK,WAAL,AAAe,WAzBjC,AACI,AACI,AACI,AAsBM,AAKrB;;;;;;kBAxDgB,A;AAyDpB","file":"mall-category.js","sourceRoot":"E:/MyStudy/Redux/app_four","sourcesContent":["/* eslint-disable */\r\nimport React, {Component} from 'react';\r\nimport {Link} from 'react-router';\r\nimport {Modal, List, Carousel, Toast} from 'antd-mobile';\r\nimport classnames from 'classnames';\r\nimport request from 'common/request';\r\nimport {login, redirect} from 'utils';\r\n\r\nimport 'scss/integral/mall.component.scss';\r\n\r\nlet title = '金币商城';\r\nlet Item = List.Item;\r\n\r\nexport default class Mall extends Component{\r\n    state = {\r\n        visible: 0,\r\n        loaded: 0\r\n    }\r\n    componentDidMount(){\r\n        document.title = title;\r\n        let {id} = this.props.params;\r\n        Toast.loading(undefined, 0);\r\n        request(`credit-gold/goods-module-list?id=${id}`).then(response => {\r\n            let {name, items} = response.data;\r\n            Toast.hide();\r\n            name && (document.title = name);\r\n            this.setState({\r\n                items,\r\n                loaded: 1\r\n            });\r\n        }).catch(response => {\r\n            let {code, message} = response;\r\n            Toast.fail(message, 1.5, () => {\r\n                setTimeout(redirect.goBack);\r\n            });\r\n        });\r\n    }\r\n    render(){\r\n        let {items, loaded} = this.state;\r\n        return (\r\n            <div className={classnames({'wrapper wrapper-integral-mall wrapper-integral-mall-category': true, loaded})}>\r\n                <div className='goods'>\r\n                    <List>\r\n                        {(items && items.length) ?\r\n                            <ul className='body-grid'>\r\n                                {items.map((item, index) => (\r\n                                    <li key={index} onClick={() => redirect.push(`/integral-mall/details?id=${item.id}`)}>\r\n                                        <div><div className='picture' style={item.default_img ? {backgroundImage: `url(${item.default_img})`} : {}}/></div>\r\n                                        <div className='description'>\r\n                                            <div className='title'>\r\n                                                <span>{item.name}</span>\r\n                                            </div>\r\n                                            <div className='details'>\r\n                                                <div className='money'>\r\n                                                    <span>{item.disc_price > 0 ? item.disc_price : item.price}</span>金币\r\n                                                </div>\r\n                                                <div className={classnames({'status': true, active: item.status == 0})}>\r\n                                                    {item.status ? '抢购中' : '已抢完'}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        : <div className='empty'>暂无数据</div>}\r\n                    </List>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};"]}