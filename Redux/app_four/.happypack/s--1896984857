'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

var _axios = require('axios');

var _axios2 = _interopRequireDefault(_axios);

var _utils = require('utils');

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

_axios2.default.interceptors.request.use(function (config) {
    config.responseType = 'json';
    config.url = (0, _utils.resolveUrl)('http://credit.xianjincard.com/' + config.url.replace(/^\//, ''));
    if (config.method && config.method.toUpperCase() === 'POST') {
        config.headers['Content-Type'] = 'application/x-www-form-urlencoded';
    }
    return config;
}, function (error) {
    return _promise2.default.reject(error);
});
_axios2.default.interceptors.response.use(function (response) {
    return _promise2.default.resolve(response.data || {});
}, function (error) {
    return _promise2.default.reject(error);
});

exports.default = _axios2.default;
module.exports = exports['default'];