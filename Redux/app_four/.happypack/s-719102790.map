{"version":3,"sources":["src\\js\\pages\\activity\\group-loan\\Scroll.js"],"names":["topNum","prize","Scroll","props","reward","firstArr","state","topClass","top","transition","WebkitTranstion","simulation","setInterval","length","document","querySelectorAll","height","offsetHeight","setState","setTimeout","i","concatArr","Str","getIndexValue","arr","phone","replace","type","List","map","v","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;;;;;AAEA,IAAI,SAAJ,AAAa;;AAEb,IAAI,QAAQ,CAAA,AAAC,OAAb,AAAY,AAAQ;;IAEC,A;kCACnB;;kBAAA,AAAa,OAAO;wCAAA;;sIAAA,AACZ,AACN;;UAAA,AAAK,SAAL,AAAc,AACd;UAAA,AAAK,WAAL,AAAgB,AAChB;UAAA,AAAK;;aACO,AAER;oBAFQ,AAGR;yBARc,AAIlB,AAAa,AACD;AAAA,AACR;AAFS,AACX;WAMH;;;;;yCAEqB;mBACpB;;WAAA,AAAK,AACL;kBAAY,YAAM,AAChB;eAAA,AAAK,AACN;AAFD,SAAA,AAEG,AACJ;;;;wCAEoB;mBACnB;;UAAM,SAAS,SAAA,AAAS,iBAAT,AAA0B,MAAzC,AAA+C,AAC/C;UAAM,SAAS,SAAA,AAAS,iBAAT,AAA0B,MAA1B,AAAgC,GAA/C,AAAkD,AAElD;;kBAAY,YAAM,AAChB;YAAI,UAAJ,AAAc,QAAQ,AACpB;mBAAA,AAAS,AACT;iBAAA,AAAK;;mBAEO,CAAA,AAAC,SAAT,AAAkB,SAFtB,AAAc,AACF,AAIZ;AAJY,AACR;AAFU,AACZ;AAKF;qBAAW,YAAM,AACf;mBAAA,AAAK;;qBAEO,CAAA,AAAC,SAAT,AAAkB,SADV,AAER;4BAFQ,AAGR;iCAJJ,AAAc,AACF,AAMZ;AANY,AACR;AAFU,AACZ;AAOH;AATD,aAAA,AASG,AACH;AACD;AACD;eAAA,AAAK;;iBAEO,CAAA,AAAC,SAAT,AAAkB,SADV,AAER;wBAFQ,AAGR;6BAJJ,AAAc,AACF,AAMZ;AANY,AACR;AAFU,AACZ;AAOH;AA7BD,SAAA,AA6BG,AACJ;;;;iCAEa,AACZ;WAAA,AAAK,SAAL,AAAc,AACd;UAAM,SAAN,AAAe,AACf;WAAK,IAAI,IAAT,AAAa,GAAG,IAAhB,AAAoB,QAApB,AAA4B,KAAK,AAC/B;aAAA,AAAK,UAAL,AAAe,QAAf,AAAuB,AACxB;AACF;;;;8BAEU,A,Q,AAAQ,GAA6C;UAA1C,AAA0C,0EAApC,wBAAA,AAAc,cAAd,AAA4B,AAAQ,AAC9D;;UAAI,MAAM,CAAC,CAAC,wBAAA,AAAc,QAAd,AAAsB,QAAtB,AAA8B,uBAA/B,AAAC,AAAqD,aAAjE,AAAU,AAAC,AAAmE,AAC9E;UAAI,MAAJ,AAAU,GAAG,AACX;aAAA,AAAK,WAAL,AAAgB,AACjB;AACD;WAAA,AAAK,oDAAa,KAAlB,AAAuB,SAAvB,AAAkC,AAClC;UAAI,MAAO,SAAX,AAAoB,GAAI,AACtB;aAAA,AAAK,oDAAa,KAAlB,AAAuB,0CAAW,KAAlC,AAAuC,AACxC;AACF;;;;6BAES;UAAA,AACA,WAAa,KADb,AACkB,MADlB,AACA;UADA,AAEA,OAAS,KAFT,AAEc,MAFd,AAEA,AAER;;UAAM,YAAO,AAAK,OAAL,AAAY,IAAI,UAAA,AAAC,GAAD,AAAI,GAAJ;eAAU,gBAAA,cAAA,QAAI,KAAJ,AAAS,KAAK,gCAAA,cAAA,KAAI,QAAlB,AAAc,AAAI,AAAE,KAAU,iCAAA,cAAA,KAAI,QAAlC,AAA8B,AAAI,AAAE,KAA9C,AAAU;AAAvC,AAAa,AAEb,OAFa;;aAGX,gBAAA,cAAA,SAAK,4BAAyB,CAAA,AAAC,OAAD,AAAQ,KAAtC,AAAK,AAAsC,AACzC,iCAAA,cAAA,SAAK,WAAL,AAAe,AACb,gCAAA,cAAA,SAAK,WAAL,AAAe,UAAS,OAAxB,AAA+B,AAC5B,YAJT,AACE,AACE,AACE,AAMP;;;;EA3FiC,gBAAM,A;;kBAArB,A","file":"Scroll.js","sourceRoot":"E:/MyStudy/Redux/app_four","sourcesContent":["import React from 'react'\r\nimport { platform } from 'utils'\r\nimport GeneratePhone from './GeneratePhone'\r\n\r\nlet topNum = 1\r\n\r\nlet prize = ['30%', '50%']\r\n\r\nexport default class Scroll extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.reward = []\r\n    this.firstArr = []\r\n    this.state = {\r\n      topClass: {\r\n        top: `0rem`,\r\n        transition: `all 0.5s ease-in-out`,\r\n        WebkitTranstion: `all 0.5s ease-in-out`\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillMount () {\r\n    this.simulation()\r\n    setInterval(() => {\r\n      this.simulation()\r\n    }, 300000)\r\n  }\r\n\r\n  componentDidMount () {\r\n    const length = document.querySelectorAll('li').length\r\n    const height = document.querySelectorAll('li')[0].offsetHeight\r\n\r\n    setInterval(() => {\r\n      if (topNum >= length) {\r\n        topNum = 0\r\n        this.setState({\r\n          topClass: {\r\n            top: `${-height * topNum}px`\r\n          }\r\n        })\r\n        topNum++\r\n        setTimeout(() => {\r\n          this.setState({\r\n            topClass: {\r\n              top: `${-height * topNum}px`,\r\n              transition: `all 0.5s ease-in-out`,\r\n              WebkitTranstion: `all 0.5s ease-in-out`\r\n            }\r\n          })\r\n          topNum++\r\n        }, 10)\r\n        return\r\n      }\r\n      this.setState({\r\n        topClass: {\r\n          top: `${-height * topNum}px`,\r\n          transition: `all 0.5s ease-in-out`,\r\n          WebkitTranstion: `all 0.5s ease-in-out`\r\n        }\r\n      })\r\n      topNum++\r\n    }, 3000)\r\n  }\r\n\r\n  simulation () {\r\n    this.reward = []\r\n    const length = 20\r\n    for (let i = 0; i < length; i++) {\r\n      this.concatArr(length, i)\r\n    }\r\n  }\r\n\r\n  concatArr (length, i, Str = GeneratePhone.getIndexValue(prize)) {\r\n    let arr = [[GeneratePhone.phone().replace(/(\\d{3})\\d{4}(\\d{4})/, '$1****$2'), Str]]\r\n    if (i === 0) {\r\n      this.firstArr = arr\r\n    }\r\n    this.reward = [...this.reward, ...arr]\r\n    if (i === (length - 1)) {\r\n      this.reward = [...this.reward, ...this.firstArr]\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { topClass } = this.state\r\n    const { type } = this.props\r\n\r\n    const List = this.reward.map((v, i) => <li key={i}>恭喜<b>{v[0]}</b> 获得<b>{v[1]}</b>优惠奖励</li>)\r\n\r\n    return (\r\n      <div className={`scroll-div ${!type ? '' : 'scroll-not'}`}>\r\n        <div className='scroll-bar'>\r\n          <div className='scroll' style={topClass}>\r\n            {List}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}