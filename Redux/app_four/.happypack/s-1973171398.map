{"version":3,"sources":["src\\js\\pages\\integral\\layout.js"],"names":["RETRY_TEXT","Tasks","props","state","interceptors","response","use","code","message","reject","resolve","error","hide","modal","document","querySelector","alert","text","onPress","fail","setState","lock","loaded","loading","middleware","cloneElement","children"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;AAEA;;;;;;AARA;AAUA,IAAM,aAAN,AAAmB;;IAEE,A;mCAIpB;;mBAAA,AAAY,OAAM;4CAAA;;wIAAA,AACL;;cAJb,AAGkB,QAHV,AAGU,AAEX;;0BAAA,AAAQ,aAAR,AAAqB,SAArB,AAA8B,IAAI,oBAAY;gBAAA,AACrC,OADqC,AACpB,SADoB,AACrC;gBADqC,AAC/B,UAD+B,AACpB,SADoB,AAC/B,AACX;;gBAAG,QAAH,AAAW,GAAE,AACT;uBAAO,kBAAA,AAAQ,OAAf,AAAO,AAAe,AACzB;AACD;mBAAO,kBAAA,AAAQ,QAAf,AAAO,AAAgB,AAC1B;AAND,WAMG,iBAAS,AACR;mBAAO,kBAAA,AAAQ,OAAf,AAAO,AAAe,AACzB;AAVU,AAEX;eASH;;;;;mC,AACU,UAAS;yBAAA;;gBAAA,AACX,OADW,AACmB,SADnB,AACX;oCADW,AACmB,SADnB,AACL;gBADK,AACL,4CADK,AACK,aACrB;;4BAAA,AAAM,AACN;gBAAG,QAAQ,CAAX,AAAY,MAAK,AACb;oBAAI,QAAQ,SAAA,AAAS,cAArB,AAAY,AAAuB,AACnC;oBAAG,CAAH,AAAI,OAAM,AACN;oCAAA,AAAM,MAAN,AAAY,OAAZ,AAAmB;8BAAU,AACnB,AACN;wCAFJ,AAA4B,AAAC,AAIhC;AAJgC,AACzB,qBADwB;AAKnC;AARD,mBAQK,AACD;gCAAA,AAAM,KAAN,AAAW,SAAS,YAAM,AACtB;2BAAA,AAAK,YAAY,OAAA,AAAK,SAAS,EAAC,MAAD,AAAO,GAAG,QAAV,AAAkB,GAAG,SAApD,AAAiB,AAAc,AAA8B,AAChE;AAFD,AAGH;AACJ;;;;iCACI;gBAAA,AACI,aADJ,AACkB,KADlB,AACI,AACX;;mCACU,cAAA,OACJ,sBAAA,AAAM,aAAa,KAAA,AAAK,MAAxB,AAA8B;4BAD1B,AACJ,AAAwC,AAGhC;AAHgC,AAC5B,cAFR,yDADV,AACU,AAOV;;;;;;kBA3CmB,A;AA4CpB","file":"layout.js","sourceRoot":"E:/MyStudy/Redux/app_four","sourcesContent":["/* eslint-disable */\r\nimport React, {Component} from 'react';\r\nimport {Carousel, Modal, List, Toast} from 'antd-mobile';\r\nimport Back2Top from 'react-back2top';\r\nimport classnames from 'classnames';\r\nimport request from 'common/request';\r\nimport {login, redirect} from 'utils';\r\n\r\nimport 'scss/integral/tasks.component.scss';\r\n\r\nconst RETRY_TEXT = '系统繁忙，请稍后重试';\r\n\r\nexport default class Tasks extends Component{\r\n\tstate = {\r\n\r\n\t}\r\n\tconstructor(props){\r\n        super(props);\r\n        request.interceptors.response.use(response => {\r\n            let {code, message} = response;\r\n            if(code != 0){\r\n                return Promise.reject(response);\r\n            }\r\n            return Promise.resolve(response);\r\n        }, error => {\r\n            return Promise.reject(error);\r\n        });\r\n    }\r\n    middleware(response){\r\n        let {code, message = RETRY_TEXT} = response;\r\n        Toast.hide();\r\n        if(code == -1001){\r\n            let modal = document.querySelector('.am-modal');\r\n            if(!modal){\r\n                Modal.alert('提 示', message, [{\r\n                    text: '确 定',\r\n                    onPress: login\r\n                }])\r\n            }\r\n        }else{\r\n            Toast.fail(message, () => {\r\n                this.setState && this.setState({lock: 1, loaded: 1, loading: 0});\r\n            });\r\n        }\r\n    }\r\n\trender(){\r\n        let {middleware} = this;\r\n\t\treturn (\r\n            <div>\r\n    \t\t\t{React.cloneElement(this.props.children, {\r\n                    middleware\r\n                })}\r\n                <Back2Top/>\r\n            </div>\r\n\t\t);\r\n\t}\r\n};"]}