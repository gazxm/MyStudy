{"version":3,"sources":["src\\js\\pages\\activity\\invite\\Invite.js"],"names":["Invite","props","startTime","endTime","timeFlag","urlInvteCode","state","ruleState","popupState","isShow","tip","content","callback","loginState","inviteCode","inviteUrl","document","title","isWeixin","query","location","invite_code","loading","then","data","code","hide","corner","popupInfo","setState","tag","encodeURIComponent","data2","short_url","Date","getTime","toFixed","setTimeout","buttonBefore","time","isApp","url","imgUrl","push","e","closePopup","rule","closeRule","bind","popup","__html","okPopup","link","copyText","copyEnd","showRule","invite","lookReward","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;AAEA;;;;;;IAEqB,A;kCACnB;;kBAAA,AAAa,OAAO;wCAAA;;sIAAA,AACZ,AACN;;UAAA,AAAK,YAAL,AAAiB,AACjB;UAAA,AAAK,UAAL,AAAe,AACf;UAAA,AAAK,WAAL,AAAgB,AAChB;UAAA,AAAK,eAAL,AAAoB,AACpB;UAAA,AAAK;iBAAQ,AACA,AACX;;gBAAY,AACF,AACR;aAFU,AAEL,AACL;iBAHU,AAGD,AACT;kBANS,AAEC,AAIA,AAEZ;AANY,AACV;kBAHS,AAQC,AACZ;kBATW,AASC,AACZ;iBAhBgB,AAMlB,AAAa,AAUA;AAVA,AACX;WAWH;;;;;wCAEoB;mBACnB;;eAAA,AAAS,QAAT,AAAiB,AACjB;UAAI,CAAC,gBAAL,AAAc,UAAU,AACtB;0BAAA,AAAM,AACP;AACD;UAAM,QAAQ,KAAA,AAAK,MAAL,AAAW,SAAzB,AAAkC,AAClC;UAAI,OAAO,MAAP,AAAa,gBAAjB,AAAiC,aAAa,AAC5C;aAAA,AAAK,eAAe,MAApB,AAA0B,AAC3B;AACD;sBAAA,AAAM,QAAN,AAAc,AACd;sBAAA,AAAI,+DAAJ,AAAmE,KAAK,gBAAA;eAAQ,KAAR,AAAa;AAArF,SAAA,AAA2F,KAAK,gBAAQ,AACtG;YAAI,KAAA,AAAK,SAAS,CAAlB,AAAmB,GAAG,AACpB;0BAAA,AAAM,AACN;cAAI,gBAAJ,AAAa,UAAU,AACrB;8BAAA,AAAM,cAAc,EAAC,QAArB,AAAoB,AAAS,AAC7B;mBAAA,AAAK,UAAL,AAAe,WAAf,AAA0B,eAC3B;AACD;iBAAA,AAAK;wBACS,KADd,AAAc,AACK,AAEnB;AAHc,AACZ;AAGH;AACD;YAAI,gBAAJ,AAAa,UAAU,AACrB;4BAAA,AAAM,cAAc,EAAC,QAArB,AAAoB,AAAS,AAC9B;AACD;YAAI,KAAA,AAAK,SAAS,CAAlB,AAAmB,IAAI,AACrB;0BAAA,AAAM,AACN;iBAAA,AAAK;wBACS,KADd,AAAc,AACK,AAEnB;AAHc,AACZ;iBAEF,AAAK,UAAL,AAAe,wBAAf,AAAuC,AACvC;AACD;AACD;YAAI,KAAA,AAAK,SAAS,CAAlB,AAAmB,IAAI,AACrB;0BAAA,AAAM,AACN;iBAAA,AAAK;wBACS,KADd,AAAc,AACK,AAEnB;AAHc,AACZ;iBAEF,AAAK,UAAL,AAAe,qBAAf,AAAoC,AACpC;AACD;AACD;YAAI,KAAA,AAAK,SAAT,AAAkB,GAAG,AACnB;cAAI,gBAAJ,AAAa,UAAU,AACrB;8BAAA,AAAM,cAAc,EAAC,aAAa,KAAA,AAAK,KAAvC,AAAoB,AAAwB,AAC7C;AAHkB;cAAA,AAIX,MAAQ,OAAA,AAAK,MAAL,AAAW,SAJR,AAIiB,MAJjB,AAIX,AACR;;cAAM,qEAAkE,OAAlE,AAAyE,yBAAkB,OAAA,AAAK,eAAe,OAApB,AAAyB,eAAe,KAAA,AAAK,KAA9I,AAAM,AAA6I,AACnJ;iBAAA,AAAK;wBACS,KADA,AACK,AACjB;wBAAY,OAAA,AAAK,eAAe,OAApB,AAAyB,eAAe,KAAA,AAAK,KAF3D,AAAc,AAEkD,AAEhE;AAJc,AACZ;0BAGE,mEAAmE,mBAAvE,AAAuE,AAAmB,YAA1F,AAAsG,KAAK,gBAAA;mBAAQ,KAAR,AAAa;AAAxH,aAAA,AAA8H,KAAK,iBAAS,AAC1I;4BAAA,AAAM,AACN;gBAAI,MAAA,AAAM,SAAV,AAAmB,GAAG,AACpB;qBAAA,AAAK;2BACQ,MAAA,AAAM,KADnB,AAAc,AACU,AAEzB;AAHe,AACZ;AAGL;AAPD,AAQD;AAlBD,eAkBO,AACL;0BAAA,AAAM,AACN;iBAAA,AAAK,UAAL,AAAe,eAAf,AAA8B,AAC/B;AACF;AArDD,AAsDD;;;;+BAEW;mBACV;;WAAA,AAAK,YAAY,CAAC,IAAA,AAAI,OAAJ,AAAW,YAAZ,AAAwB,MAAxB,AAA8B,QAA/C,AAAiB,AAAsC,AACvD;UAAI,KAAJ,AAAS,UAAU,AACjB;AACD;AACD;WAAA,AAAK,WAAL,AAAgB,AAChB;iBAAW,YAAM,AACf;eAAA,AAAK,WAAL,AAAgB,AAChB;YAAI,OAAJ,AAAI,AAAK,gBAAgB;cAAA,AACf,YAAc,OADC,AACI,MADJ,AACf,AACR;;cAAI,OAAA,AAAK,YAAT,AAAqB,IAAI,AACvB;6BAAK,kEAAL,AAAuE,AACvE;AACD;AACD;cAAM,OAAO,OAAA,AAAK,UAAU,OAA5B,AAAiC,AACjC;cAAI,OAAJ,AAAW,GAAG,AACZ;mBAAA,AAAK,UAAL,AAAe,AACf;6BAAK,kEAAL,AAAuE,AACvE;AACD;AACD;iBAAA,AAAK,UAAL,AAAe,AAChB;AACF;AAhBD,SAAA,AAgBG,AACJ;;;;8BAEU,AACT;WAAA,AAAK,UAAU,CAAC,IAAA,AAAI,OAAJ,AAAW,YAAZ,AAAwB,MAAxB,AAA8B,QAA7C,AAAe,AAAsC,AACtD;;;;mCAEe;UAAA,AACN,aAAe,KADT,AACc,MADd,AACN,AACR;;UAAI,eAAe,CAAnB,AAAoB,GAAG,AACrB;aAAA,AAAK,UAAL,AAAe,WAAf,AAA0B,eAC1B;eAAA,AAAO,AACR;AACD;UAAI,eAAe,CAAnB,AAAoB,IAAI,AACtB;aAAA,AAAK,UAAL,AAAe,qBAAf,AAAoC,AACpC;eAAA,AAAO,AACR;AACD;UAAI,eAAe,CAAnB,AAAoB,IAAI,AACtB;aAAA,AAAK,UAAL,AAAe,wBAAf,AAAuC,AACvC;eAAA,AAAO,AACR;AACD;UAAI,eAAJ,AAAmB,GAAG,AACpB;eAAA,AAAO,AACR;AAFD,aAEO,AACL;aAAA,AAAK,UAAL,AAAe,eAAf,AAA8B,AAC9B;eAAA,AAAO,AACR;AACF;;;;6BAES;UAAA,AACA,MAAQ,KAAA,AAAK,MAAL,AAAW,SADnB,AAC4B,MAD5B,AACA,AACR;;UAAI,KAAJ,AAAI,AAAK,gBAAgB,AACvB;YAAI,gBAAJ,AAAa,OAAO,AAClB;cAAM,MAAM,gFAAiE,OAAjE,AAAwE,wBAAkB,KAAA,AAAK,MAA3G,AAAY,AAAqG,AACjH;cAAM,SAAS,uBAAf,AAAe,AAAW,AAC1B;;2BAAQ,AACS,AACf;0BAFM,AAEQ,AACd;yBAHM,AAGO,AACb;0BAJF,AAAQ,AAIQ,AAEjB;AANS,AACN;AAJJ,eASO,AACL;cAAI,gBAAJ,AAAa,UAAU,AACrB;iBAAA,AAAK,UAAL,AAAe,cAAf,AAA6B,AAC7B;AACD;AACD;eAAA,AAAK,UAAL,AAAe,gBAAf,AAA+B,eAChC;AACF;AACF;;;;iCAEa,AACZ;UAAI,KAAJ,AAAI,AAAK,gBAAgB,AACvB;wBAAA,AAAS,KAAT,AAAc,AACf;AACF;;;;6B,AAES,GAAG,AACX;WAAA,AAAK,SAAS,EAAC,WAAf,AAAc,AAAY,AAC3B;;;;8BAEU,A,GAAG,AACZ;WAAA,AAAK,SAAS,EAAC,WAAf,AAAc,AAAY,AAC3B;;;;8BAEU,A,SAAS,A,K,AAAK,UAAU,AACjC;WAAA,AAAK;;kBACS,AACF,AACR;mBAFU,AAGV;eAHU,AAIV;oBALJ,AAAc,AACA,AAOf;AAPe,AACV;AAFU,AACZ;;;;+BASQ,A,GAAG,AACb;WAAA,AAAK,SAAS,EAAC,YAAY,EAAC,QAA5B,AAAc,AAAa,AAAS,AACrC;;;;4B,AAEQ,GAAG,AACV;WAAA,AAAK,MAAL,AAAW,WAAX,AAAsB,YAAY,KAAA,AAAK,MAAL,AAAW,WAA7C,AAAkC,AAAsB,AACxD;WAAA,AAAK,AACN;;;;6BAES;mBACqC,KADrC,AAC0C;UAD1C,AACA,mBADA,AACA;UADA,AACW,mBADX,AACW;UADX,AACsB,oBADtB,AACsB,AAE9B;;UAAM,OAAO,YAAY,gBAAA,cAAA,SAAK,WAAL,AAAe,AACtC,iDAAK,WAAL,AAAe,WAAU,SAAS,KAAA,AAAK,UAAL,AAAe,KAD1B,AACvB,AAAkC,AAAoB,AACtD,0BAAA,cAAA,SAAK,WAAL,AAAe,AACb,oDAAM,WAAN,AAAgB,SAAQ,SAAS,KAAA,AAAK,UAAL,AAAe,KADlD,AACE,AAAiC,AAAoB,AACrD,0BAAA,cAAA,MAAA,MAFF,AAEE,AACA,6CAAA,cAAA,SAAK,WAAL,AAAe,AACb,kCAAA,cAAA,KAAG,sBAAA,cAAA,KAAA,MAAH,AAAG,mCADL,AACE,AACA,oDAAA,cAAA,KAAG,sBAAA,cAAA,KAAA,MAAH,AAAG,mCAFL,AAEE,AACA,mGAAA,cAAA,KAAG,sBAAA,cAAA,KAAA,MAAH,AAAG,AAAa,6EAAhB,OAHF,AAGE,AACA,2VAAA,cAAA,KAAG,sBAAA,cAAA,KAAA,MAAH,AAAG,AAAY,uEAAf,OAJF,AAIE,AACA,kPAAA,cAAA,KAAG,sBAAA,cAAA,KAAA,MAAH,AAAG,AAAY,uEAAf,OALF,AAKE,AACA,yKAAA,cAAA,KAAA,MANF,AAME,AACA,6KAAA,cAAA,KAAA,MAPF,AAOE,AACA,iKAAA,cAAA,KAAG,sBAAA,cAAA,KAAA,MAAH,AAAG,AAAY,uEAAf,OARF,AAQE,AACA,8YAAA,cAAA,KAAA,MATF,AASE,AACA,iLAAA,cAAA,OAAG,WAAH,AAAa,iBAfN,AAAY,AAEvB,AAGE,AAUE,6IAfN,AAkBS,AAET;;UAAM,QAAQ,WAAA,AAAW,SAAS,gBAAA,cAAA,SAAK,WAAL,AAAW,AAC3C,kDAAK,WAAL,AAAW,WAAU,SAAU,KAAA,AAAK,WAAL,AAAgB,KADf,AAChC,AAA+B,AAAqB,AACpD,0BAAA,cAAA,SAAK,WAAL,AAAW,AACT,oDAAM,WAAN,AAAY,SAAQ,SAAS,KAAA,AAAK,WAAL,AAAgB,KAD/C,AACE,AAA6B,AAAqB,AAClD,+CAAG,yBAAyB,EAAC,QAAQ,WAFvC,AAEE,AAA4B,AAAoB,AAChD,8BAAA,cAAA,OAAG,SAAS,KAAA,AAAK,QAAL,AAAa,KAAzB,AAAY,AAAkB,AAAQ,oBAL5B,AAAoB,AAEhC,AAGE,AAAiD,SALrD,AAOS,AAET;;UAAM,OAAO,YAAY,gBAAA,cAAA,UAAM,WAAN,AAAY,AAAa,eAArC,AAAY,aAA6C,gBAAA,cAAA,OAAG,WAAH,AAAa,UAAS,gBAAtB,SAAuC,qBAAA,cAAA,KAAA,MAAvC,AAAuC,iBAA7G,AAAsE,AAEtE;;aACE,gBAAA,cAAA,SAAK,WAAL,AAAe,AACb,sCAAA,cAAA,SAAK,WAAL,AAAe,AACb,4BAAA,cAAA,MAAI,sBAAA,cAAA,QAAA,MADN,AACE,AAAI,AACJ,mFAAA,cAAA,MAAA,MAFF,AAEE,AACA,kFAAA,cAAA,SAAK,WAAL,AAAe,AACb,2BAAA,cAAA,OAAG,WAAH,AAAa,AAAM,yBAAA,cAAA,OAAG,WAAH,AAAa,OAAhC,AAAmB,MAAwB,gCAAA,cAAA,OAAG,WAAH,AAAa,OAAxD,AAA2C,MAD7C,AACE,AACA,iCAAA,cAAA,OAAG,WAAH,AAAa,AAAM,yBAAA,cAAA,OAAG,WAAH,AAAa,OAAhC,AAAmB,MAFrB,AAEE,AACA,yDAAA,cAAA,OAAG,WAAH,AAAa,AAAQ,2BAAA,cAAA,OAAG,WAAH,AAAa,OAAlC,AAAqB,MAAwB,gCAAA,cAAA,OAAG,WAAH,AAAa,OAA1D,AAA6C,MAH/C,AAGE,AACA,iCAAA,cAAA,OAAG,WAAH,AAAa,AAAO,0BAAA,cAAA,OAAG,WAAH,AAAa,OAAjC,AAAoB,MAPxB,AAGE,AAIE,AAEF,0DAAA,cAAA,OAAG,WAAH,AAAa,AAAgB,mCAAA,cAAA,OAAG,WAAH,AAAa,OAA1C,AAA6B,MAT/B,AASE,AACA,2EAAA,cAAA,SAAK,WAAL,AAAe,AACb,4BAAA,cAAA,SAAK,WAAL,AAAe,AACb,qCAAA,cAAA,SAAK,WAAL,AAAe,AACb,0BAAA,cAAA,OAAG,WAAH,AAAa,cADf,AACE,AACA,iCAAA,cAAA,OAAG,WAAH,AAAa,AAAW,8BAAA,cAAA,OAAG,WAAH,AAAa,YAArC,AAAwB,OAH5B,AACE,AAEE,AAEF,mCAAA,cAAA,SAAK,WAAL,AAAe,AACb,2BAAA,cAAA,KAAA,MADF,AACE,AACA,yDAAA,cAAA,KAAG,sBAAA,cAAA,OAAG,WAAH,AAAa,OAAhB,AAAG,MAAwB,gCAAA,cAAA,OAAG,WAAH,AAAa,OAAxC,AAA2B,MAAyB,sCAAA,cAAA,OAAG,WAAH,AAAa,OAAjE,AAAoD,MAFtD,AAEE,AACA,yDAAA,cAAA,KAAG,sBAAA,cAAA,OAAG,WAAH,AAAa,OAAhB,AAAG,MAA0B,4CAAA,cAAA,OAAG,WAAH,AAAa,OAA1C,AAA6B,MAA2B,kDAAA,cAAA,OAAG,WAAH,AAAa,OAArE,AAAwD,OAAwB,0BAAA,cAAA,OAAG,WAAH,AAAa,OAA7F,AAAgF,QATtF,AACE,AAKE,AAGE,AAGJ,mCAAA,cAAA,SAAK,WAAL,AAAe,AACb,qCAAA,cAAA,SAAK,WAAL,AAAe,AACb,0BAAA,cAAA,OAAG,WAAH,AAAa,cADf,AACE,AACA,iCAAA,cAAA,OAAG,WAAH,AAAa,AAAa,gCAAA,cAAA,OAAG,WAAH,AAAa,YAAvC,AAA0B,MAH9B,AACE,AAEE,AAEF,mCAAA,cAAA,SAAK,WAAL,AAAe,AACb,2BAAA,cAAA,KAAA,MADF,AACE,AACA,yDAAA,cAAA,KAAG,sBAAA,cAAA,OAAG,WAAH,AAAa,OAAhB,AAAG,MAAwB,gCAAA,cAAA,OAAG,WAAH,AAAa,OAAxC,AAA2B,MAAyB,sCAAA,cAAA,OAAG,WAAH,AAAa,OAAjE,AAAoD,MAFtD,AAEE,AACA,yDAAA,cAAA,KAAG,sBAAA,cAAA,OAAG,WAAH,AAAa,OAAhB,AAAG,MAA0B,4CAAA,cAAA,OAAG,WAAH,AAAa,OAA1C,AAA6B,MAA2B,kDAAA,cAAA,OAAG,WAAH,AAAa,OA9B7E,AAUE,AAYE,AAKE,AAGE,AAAwD,AAG9D,6BAAA,cAAA,SAAK,WAAL,AAAe,AACb,wBAAA,cAAA,MAAA,MADF,AACE,AACA,6CAAA,cAAA,KAAA,MAA0B,+IAA1B,OACyB,8GADzB,OAEwB,kHAFxB,OAG0C,6JAH1C,OAnCJ,AAiCE,AAEE,AAMF,kFAAA,cAAA,MAAA,MAzCF,AAyCE,AACA,yDAAA,cAAA,SAAK,WAAL,AAAW,AACT,qCAAA,cAAA,OAAG,WAAH,AAAa,AACX,0BAAA,cAAA,OAAG,WAAH,AAAa,YADf,AACE,OAA6B,8CAD/B,OADF,AACE,AAGA,uCAAA,cAAA,OAAG,WAAH,AAAa,WAAkB,oGAA/B,OA9CJ,AA0CE,AAIE,AAEF,wEAAA,cAAA,MAAA,MAhDF,AAgDE,AACA,+DAAA,cAAA,MAAA,MAAY,oEAAA,cAAA,OAAG,WAAH,AAAa,OAAzB,AAAY,yCAjDd,AAiDE,AACA,mGAAA,cAAA,OAAG,WAAH,AAAa,QAAO,cAAc,KAAA,AAAK,SAAL,AAAc,KAAhD,AAAkC,AAAmB,OAAO,YAAY,KAAA,AAAK,QAAL,AAAa,KAArF,AAAwE,AAAkB,SAAkC,gMAA5H,OAC8B,uLAD9B,OAEU,+BArDd,AACE,AAkDE,AAID,QAvDH,AAwDG,MAxDH,AAyDE,uBAAA,cAAA,SAAK,WAAL,AAAe,AACb,4BAAA,cAAA,OAAG,WAAH,AAAa,UAAS,SAAS,KAAA,AAAK,SAAL,AAAc,KAA7C,AAA+B,AAAmB,SADpD,AACE,AACA,6CAAA,cAAA,OAAG,WAAH,AAAa,YAAW,SAAS,KAAA,AAAK,OAAL,AAAY,KAA7C,AAAiC,AAAiB,AAAO,yBAAA,cAAA,QAAA,MAF3D,AAEE,AAAyD,AACzD,gEAAA,cAAA,OAAG,WAAH,AAAa,YAAW,SAAS,KAAA,AAAK,WAAL,AAAgB,KAAjD,AAAiC,AAAqB,SA7D5D,AACE,AAyDE,AAGE,AAIP;;;;EArSiC,gBAAM,A;;kBAArB,A","file":"Invite.js","sourceRoot":"E:/MyStudy/Redux/app_four","sourcesContent":["import React from 'react'\r\nimport { share, partake, copy, get, login, platform, forwardApp, redirect, resolveUrl } from 'utils'\r\nimport Toast from '../../../components/Toast'\r\nimport 'img/activity/invite/invite-12.png'\r\n\r\nimport 'scss/activity/invite.component.scss'\r\n\r\nexport default class Invite extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.startTime = ''\r\n    this.endTime = ''\r\n    this.timeFlag = 0\r\n    this.urlInvteCode = ''\r\n    this.state = {\r\n      ruleState: false,\r\n      popupState: {\r\n        isShow: false,\r\n        tip: '',\r\n        content: '',\r\n        callback: ''\r\n      },\r\n      loginState: '',\r\n      inviteCode: '',\r\n      inviteUrl: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    document.title = '兼职赚钱'\r\n    if (!platform.isWeixin) {\r\n      share('inviteFour')\r\n    }\r\n    const query = this.props.location.query\r\n    if (typeof query.invite_code !== 'undefined') {\r\n      this.urlInvteCode = query.invite_code\r\n    }\r\n    Toast.loading('')\r\n    get('http://credit.xianjincard.com/credit-invite/invite-four-act').then(data => data.data).then(data => {\r\n      if (data.code === -1) {\r\n        Toast.hide()\r\n        if (platform.isWeixin) {\r\n          share('inviteFour', {corner: 0})\r\n          this.popupInfo('请您先登录哦~', '点击登录', login)\r\n        }\r\n        this.setState({\r\n          loginState: data.code\r\n        })\r\n        return\r\n      }\r\n      if (platform.isWeixin) {\r\n        share('inviteFour', {corner: 1})\r\n      }\r\n      if (data.code === -11) {\r\n        Toast.hide()\r\n        this.setState({\r\n          loginState: data.code\r\n        })\r\n        this.popupInfo('本次邀请活动3月13日10:00开启哦~', '朕知道了')\r\n        return\r\n      }\r\n      if (data.code === -10) {\r\n        Toast.hide()\r\n        this.setState({\r\n          loginState: data.code\r\n        })\r\n        this.popupInfo('本活动已结束，请关注平台其他活动~', '朕知道了')\r\n        return\r\n      }\r\n      if (data.code === 1) {\r\n        if (platform.isWeixin) {\r\n          share('inviteFour', {invite_code: data.data.invite_code})\r\n        }\r\n        const { tag } = this.props.location.query\r\n        const inviteUrl = `http://h.xianjincard.com/activity/invite/share?tag=${tag || ''}&invite_code=${this.urlInvteCode ? this.urlInvteCode : data.data.invite_code}`\r\n        this.setState({\r\n          loginState: data.code,\r\n          inviteCode: this.urlInvteCode ? this.urlInvteCode : data.data.invite_code\r\n        })\r\n        get('http://credit.xianjincard.com/credit-invite/get-short-url?url=' + encodeURIComponent(inviteUrl)).then(data => data.data).then(data2 => {\r\n          Toast.hide()\r\n          if (data2.code === 1) {\r\n            this.setState({\r\n              inviteUrl: data2.data.short_url\r\n            })\r\n          }\r\n        })\r\n      } else {\r\n        Toast.hide()\r\n        this.popupInfo('服务器繁忙 请稍候重试', '朕知道了')\r\n      }\r\n    })\r\n  }\r\n\r\n  copyText () {\r\n    this.startTime = (new Date().getTime() / 1000).toFixed(0)\r\n    if (this.timeFlag) {\r\n      return\r\n    }\r\n    this.timeFlag = 1\r\n    setTimeout(() => {\r\n      this.timeFlag = 0\r\n      if (this.buttonBefore()) {\r\n        const { inviteUrl } = this.state\r\n        if (this.endTime === '') {\r\n          copy('#贷款新口子推荐#今天发现一个新贷款口子：现金卡。最高放款5000元，首次下款速度只要5分钟，被拒还赔钱！！！口子链接>>' + inviteUrl)\r\n          return\r\n        }\r\n        const time = this.endTime - this.startTime\r\n        if (time < 0) {\r\n          this.endTime = ''\r\n          copy('#贷款新口子推荐#今天发现一个新贷款口子：现金卡。最高放款5000元，首次下款速度只要5分钟，被拒还赔钱！！！口子链接>>' + inviteUrl)\r\n          return\r\n        }\r\n        this.endTime = ''\r\n      }\r\n    }, 1000)\r\n  }\r\n\r\n  copyEnd () {\r\n    this.endTime = (new Date().getTime() / 1000).toFixed(0)\r\n  }\r\n\r\n  buttonBefore () {\r\n    const { loginState } = this.state\r\n    if (loginState === -1) {\r\n      this.popupInfo('请您先登录哦~', '点击登录', login)\r\n      return false\r\n    }\r\n    if (loginState === -10) {\r\n      this.popupInfo('本活动已结束，请关注平台其他活动~', '朕知道了')\r\n      return false\r\n    }\r\n    if (loginState === -11) {\r\n      this.popupInfo('本次邀请活动3月13日10:00开启哦~', '朕知道了')\r\n      return false\r\n    }\r\n    if (loginState === 1) {\r\n      return true\r\n    } else {\r\n      this.popupInfo('服务器繁忙 请稍候重试', '朕知道了')\r\n      return false\r\n    }\r\n  }\r\n\r\n  invite () {\r\n    const { tag } = this.props.location.query\r\n    if (this.buttonBefore()) {\r\n      if (platform.isApp) {\r\n        const url = resolveUrl(`http://h.xianjincard.com/activity/invite/share?tag=${tag || ''}&invite_code=${this.state.inviteCode}`)\r\n        const imgUrl = resolveUrl('http://h.xianjincard.com/assets/img/activity/invite/invite-12.png')\r\n        partake({\r\n          'share_title': '送你15100元现金大礼包，快来领啊！',\r\n          'share_body': '通过我的邀请注册，1分钟认证，20分钟到账，被拒还有赔偿！',\r\n          'share_url': url,\r\n          'share_logo': imgUrl\r\n        })\r\n      } else {\r\n        if (platform.isWeixin) {\r\n          this.popupInfo('请点击右上角分享哦~', '朕知道了')\r\n          return\r\n        }\r\n        this.popupInfo('请下载APP再去分享哦~', '立即下载', forwardApp)\r\n      }\r\n    }\r\n  }\r\n\r\n  lookReward () {\r\n    if (this.buttonBefore()) {\r\n      redirect.push('/activity/invite/reward')\r\n    }\r\n  }\r\n\r\n  showRule (e) {\r\n    this.setState({ruleState: true})\r\n  }\r\n\r\n  closeRule (e) {\r\n    this.setState({ruleState: false})\r\n  }\r\n\r\n  popupInfo (content, tip, callback) {\r\n    this.setState({\r\n      popupState: {\r\n        isShow: true,\r\n        content,\r\n        tip,\r\n        callback\r\n      }\r\n    })\r\n  }\r\n\r\n  closePopup (e) {\r\n    this.setState({popupState: {isShow: false}})\r\n  }\r\n\r\n  okPopup (e) {\r\n    this.state.popupState.callback && this.state.popupState.callback()\r\n    this.closePopup()\r\n  }\r\n\r\n  render () {\r\n    const { ruleState, inviteUrl, popupState } = this.state\r\n\r\n    const rule = ruleState ? <div className='rule'>\r\n      <div className='overlay' onClick={this.closeRule.bind(this)} />\r\n      <div className='dialog'>\r\n        <span className='close' onClick={this.closeRule.bind(this)} />\r\n        <h3>活动规则</h3>\r\n        <div className='rule-content'>\r\n          <p><b>活动时间：</b>2017年3月13日起</p>\r\n          <p><b>参与对象：</b>所有现金卡注册用户均可参与</p>\r\n          <p><b>邀请人奖励：</b><br />活动期间，好友通过邀请人链接注册即为建立邀请关系，且两级好友在30天内首次申请借款，邀请人即获邀请奖励，奖励如下</p>\r\n          <p><b>一级奖励：</b><br />邀请好友，邀请人可获得好友申请金额的1%，同时获得100金币奖励，可在平台兑换奖品</p>\r\n          <p><b>二级奖励：</b><br />好友再邀请好友，邀请人可获得再邀请好友申请金额的0.1%</p>\r\n          <p>*邀请奖励将在1个工作日内发放至邀请人“我的邀请”账户</p>\r\n          <p>*奖励提现规则请至【我的】-【我的邀请】中查看详情</p>\r\n          <p><b>好友奖励：</b><br />被邀请好友注册后，系统将自动发放一张10元现金券至其账户中，可至【我的】-【优惠券】中查看，现金券有效期20天，在借款时可抵扣相应现金</p>\r\n          <p>活动期间有恶意刷奖励的用户，平台有权取消用户奖励资格</p>\r\n          <p className='xianjincard'>本活动最终解释权归现金卡所有，与苹果公司无关</p>\r\n        </div>\r\n      </div>\r\n    </div> : null\r\n\r\n    const popup = popupState.isShow ? <div class='popup'>\r\n      <div class='overlay' onClick={(this.closePopup.bind(this))} />\r\n      <div class='dialog'>\r\n        <span class='close' onClick={this.closePopup.bind(this)} />\r\n        <p dangerouslySetInnerHTML={{__html: popupState.content}} />\r\n        <a onClick={this.okPopup.bind(this)}>{popupState.tip}</a>\r\n      </div>\r\n    </div> : null\r\n\r\n    const link = inviteUrl ? <span class='span-link'>{inviteUrl}</span> : <a className='a-link' onClick={login}>(<b>登录</b>后显示你的专属链接)</a>\r\n\r\n    return (\r\n      <div className='transition-group'>\r\n        <div className='invite'>\r\n          <h4><span>活动时间：2017年3月13日起</span></h4>\r\n          <h2>有钱一起赚 收益享二级</h2>\r\n          <div className='arrow'>\r\n            <p className='one'><b className='a'>A</b>邀请<b className='b'>B</b>注册</p>\r\n            <p className='two'><b className='b'>B</b>首次申请借款</p>\r\n            <p className='three'><b className='b'>B</b>邀请<b className='c'>C</b>注册</p>\r\n            <p className='four'><b className='c'>C</b>首次申请借款</p>\r\n          </div>\r\n          <p className='reward-header'><b className='a'>A</b>可获邀请奖励如下：</p>\r\n          <div className='reward'>\r\n            <div className='ticket clearfix'>\r\n              <div className='left'>\r\n                <p className='left-one'>最高</p>\r\n                <p className='left-two'><b className='number'>50</b>元/人</p>\r\n              </div>\r\n              <div className='right'>\r\n                <p>邀请一级奖励</p>\r\n                <p><b className='a'>A</b>邀请<b className='b'>B</b>注册且<b className='b'>B</b>首次申请借款</p>\r\n                <p><b className='a'>A</b>最低可获<b className='b'>B</b>申请金额的<b className='b'>1%</b>和<b className='b'>100</b>金币</p>\r\n              </div>\r\n            </div>\r\n            <div className='ticket clearfix'>\r\n              <div className='left'>\r\n                <p className='left-one'>最高</p>\r\n                <p className='left-three'><b className='number'>5</b>元/人</p>\r\n              </div>\r\n              <div className='right'>\r\n                <p>邀请二级奖励</p>\r\n                <p><b className='b'>B</b>邀请<b className='c'>C</b>注册且<b className='c'>C</b>首次申请借款</p>\r\n                <p><b className='a'>A</b>最低可获<b className='c'>C</b>申请金额的<b className='c'>0.1%</b></p>\r\n              </div></div>\r\n          </div>\r\n          <div className='eg'>\r\n            <h5>举个例子</h5>\r\n            <p>A邀请B注册，B成功注册后申请借款5000元，<br />\r\n                 则A获得奖励为50元（5000*1%）；<br />\r\n                 B邀请C注册，C申请借款5000元， <br />\r\n                 则A获奖励为5元（5000*0.1%），B获奖励50元（5000*1%）；<br />\r\n                 多邀多得，上不封顶！</p>\r\n          </div>\r\n          <h2>被邀请人奖励</h2>\r\n          <div class='coupon clearfix'>\r\n            <p className='left'>\r\n              <b className='number'>10</b>元<br />现金券\r\n            </p>\r\n            <p className='right'>所有被邀请人注册后，<br />即可获取10元现金券</p>\r\n          </div>\r\n          <h2>如何更好的邀请</h2>\r\n          <h6>邀请小窍门：长按<b className='b'>复制下方文字</b>发帖，可以获得更多好友哦！</h6>\r\n          <p className='link' onTouchStart={this.copyText.bind(this)} onTouchEnd={this.copyEnd.bind(this)}>#借款新口子推荐#今天发现一个借款新口子：现金卡。最高<br />\r\n            额度5000元，首次下款最快只要5分钟，被拒还赔钱！！！<br />\r\n            口子链接>> {link}</p>\r\n        </div>\r\n        {rule}\r\n        {popup}\r\n        <div className='button'>\r\n          <a className='a-rule' onClick={this.showRule.bind(this)}>查看规则</a>\r\n          <a className='a-invite' onClick={this.invite.bind(this)}><span>马上邀请拿现金</span></a>\r\n          <a className='a-reward' onClick={this.lookReward.bind(this)}>我的奖励</a>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}