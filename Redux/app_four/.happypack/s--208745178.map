{"version":3,"sources":["src\\js\\pages\\cash-bonus\\request.js"],"names":["url","options","config","headers","method","toUpperCase","test","replace","then","response","data","code","message"],"mappings":";;;;;;;;;;AAAA;;;;AAEA;;;;;;AAEA,IAAM,MAAM,mBAAA;WAAO,uBAAP,AAAO,AAAW;AAA9B;;kBAEe,UAAA,AAAC,SAAY,AACxB;QAAI;iBAAJ,AAAa,AACA,AAEb;AAHa,AACT;QAED,OAAA,AAAO,UAAU,OAAA,AAAO,OAAP,AAAc,kBAAlC,AAAoD,QAAO,AACvD;eAAA,AAAO,QAAP,AAAe,kBAAf,AAAiC,AACpC;AACD;QAAG,OAAA,AAAO,YAAV,AAAsB,UAAS,AAC3B;eAAA,AAAO,MAAP,AAAa,AAChB;AAFD,WAEK,AACD;iBAAS,sBAAA,AAAc,QAAvB,AAAS,AAAsB,AAClC;AACD;QAAG,CAAC,gBAAA,AAAgB,KAApB,AAAI,AAAqB,UAAS,AAC9B;eAAA,AAAO,MAAM,uCAAqC,OAAA,AAAO,IAAP,AAAW,QAAX,AAAmB,OAArE,AAAa,AAAqC,AAA0B,AAC/E;AACD;gCAAO,AAAM,QAAN,AAAc,KAAK,oBAAA;eAAY,SAAZ,AAAqB;AAAxC,KAAA,EAAA,AAA8C,KAAK,oBAAY;YAAA,AAC7D,OAD6D,AAC5C,SAD4C,AAC7D;YAD6D,AACvD,UADuD,AAC5C,SAD4C,AACvD,AACX;;YAAG,SAAH,AAAY,GAAE,AACV;kBAAA,AAAM,AACT;AACD;eAAA,AAAO,AACV;AAND,AAAO,AAOV;A","file":"request.js","sourceRoot":"E:/MyStudy/Redux/app_four","sourcesContent":["import axios from 'axios';\r\nimport {Toast} from 'antd-mobile';\r\nimport {platform, resolveUrl, share} from 'utils';\r\n\r\nconst url = url => resolveUrl(url);\r\n\r\nexport default (options) => {\r\n    let config = {\r\n        headers: {}\r\n    };\r\n    if(config.method && config.method.toUpperCase() === 'POST'){\r\n        config.headers['Content-Type'] = 'application/x-www-form-urlencoded';\r\n    }\r\n    if(typeof options === 'string'){\r\n        config.url = options;\r\n    }else{\r\n        config = Object.assign(config, options);\r\n    }\r\n    if(!/^https?|^\\/\\//.test(options)){\r\n        config.url = url(`http://credit.xianjincard.com/${config.url.replace(/^\\//, '')}`);\r\n    }\r\n    return axios(config).then(response => response.data).then(response => {\r\n        let {code, message} = response;\r\n        if(code !== 0){\r\n            throw response;\r\n        }\r\n        return response;\r\n    });\r\n};"]}