{"version":3,"sources":["src\\js\\pages\\mobile\\loan\\index.js"],"names":["alert","currency","value","bit","toFixed","replace","Loan","props","dataSource","DataSource","rowHasChanged","row1","row2","data","is_login","item","card","card_type","card_validity","card_verify_step","card_title","card_subtitle","card_amount","amount_days","amount_text","amounts","days","interests","interests_text","user_loan_log_list","state","cloneWithRows","refreshing","amount","dayIndex","cardIndex","fee","isOpenApp","window","localStorage","getItem","document","title","isWeixin","then","result","code","location","href","info","message","setState","cost","max","length","params","money","period","counter","console","log","fetchData","index","i","fetchFee","id","active_url","removeItem","closeApp","openAppHandler","bind","text","onPress","verify_loan_pass","push","double_repayment","loading","hide","mix","parseInt","onChange","interest","button","map","v","onClick","createSlider","createLoan","span_repayment_money","repayment_money","span_fee_time","plan_fee_time","span_loan_amount","loan_amount","span_order_time","order_time","loan_detail_url","lists","body","onKnow","msg","url","amount_sub_url","encodeURIComponent","amount_title","card_no","amount_sub_title","closeFee","total","tip","selected","row","rowData","sectionID","rowID","carouselCard","create","steps","repayment","createFee","createOpenApp","height","documentElement","clientHeight","lib","flexible","dpr","onRefresh","Component"],"mappings":"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","file":"index.js","sourceRoot":"E:/MyStudy/Redux/app_four","sourcesContent":["import React from 'react'\r\nimport {Modal, Icon, RefreshControl, ListView, Carousel, Button} from 'antd-mobile'\r\nimport {openApp, forwardApp, get, post, redirect, login, resolveUrl, platform} from 'utils'\r\nimport Toast from 'components/Toast'\r\nimport Slider from '../components/Slider'\r\nimport 'scss/mobile/loan.home.component.scss'\r\n\r\nconst alert = Modal.alert\r\nconst currency = function (value, bit = 2) {\r\n  return value.toFixed(bit).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,')\r\n}\r\nexport default class Loan extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    const dataSource = new ListView.DataSource({\r\n      rowHasChanged: (row1, row2) => row1 !== row2\r\n    })\r\n\r\n    this.data = {\r\n      is_login: 0,\r\n      item: {\r\n        card: [{\r\n          card_type: 1,\r\n          card_validity: '',\r\n          card_verify_step: '',\r\n          card_title: '',\r\n          card_subtitle: '',\r\n          card_amount: 0,\r\n          amount_days: {\r\n            amount_text: '',\r\n            amounts: [0],\r\n            days: [0],\r\n            interests: [0],\r\n            interests_text: ''\r\n          }\r\n        }]\r\n      },\r\n      user_loan_log_list: ['尾号5552成功借款500元，申请至放款耗时15分钟']\r\n    }\r\n    this.state = {\r\n      dataSource: dataSource.cloneWithRows([this.data]),\r\n      refreshing: true,\r\n      amount: 0,\r\n      dayIndex: 0,\r\n      cardIndex: 0,\r\n      fee: null,\r\n      isOpenApp:  window.localStorage && localStorage.getItem('isOpenApp')\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    document.title = '现金卡'\r\n    if(platform.isWeixin){\r\n      get('http://credit.xianjincard.com/credit-user/bind-wx').then((result) => {\r\n        if(result.data.code == -1001){\r\n          window.location.href = resolveUrl('http://credit.xianjincard.com/wx/user-auth-template?redirectUrl=' + window.location.href)\r\n          return;\r\n        }\r\n      });\r\n    }\r\n    // this.setState({refreshing: true})\r\n    // this.fetchData()\r\n    // console.log(ReactDOM.findDOMNode(this))\r\n    // openApp()\r\n  }\r\n  fetchData () {\r\n    get('http://credit.xianjincard.com/credit-app/multi-index').then((result) => {\r\n      if (result.data.code !== 0) {\r\n        Toast.info(result.data.message, 2)\r\n        return\r\n      }\r\n\r\n      this.data = result.data.data\r\n      // let card = JSON.parse(JSON.stringify(data.item.card[0]))\r\n      // card.card_title = '现金白卡'\r\n      // card.card_type = 1\r\n      // card.amount_days.days = [7, 14]\r\n      // card.amount_days.interests = ['9000', '12000']\r\n      // this.data.item.card.push(card)\r\n\r\n      this.setState({\r\n        dataSource: this.state.dataSource.cloneWithRows([this.data]),\r\n        refreshing: false\r\n      })\r\n    })\r\n  }\r\n  fetchFee (cost) {\r\n    const card = this.data.item.card[this.state.cardIndex]\r\n    const max = card.amount_days.amounts[card.amount_days.amounts.length - 1] / 100\r\n    const params = {\r\n      money: this.state.amount || max,\r\n      period: card.amount_days.days[this.state.dayIndex],\r\n      card_type: card.card_type,\r\n      counter: cost\r\n    }\r\n    // console.log(params)\r\n    post('http://credit.xianjincard.com/credit-app/credit-fee-detail', params).then((result) => {\r\n      console.log(result)\r\n      if (result.data.code !== 0) {\r\n        Toast.info(result.data.message, 2)\r\n        return\r\n      }\r\n      this.setState({fee: result.data.data})\r\n    })\r\n  }\r\n  onRefresh () {\r\n    this.setState({refreshing: true})\r\n    this.fetchData()\r\n  }\r\n  selected (index) {\r\n    this.setState({cardIndex: index})\r\n  }\r\n  onChange (value) {\r\n    this.setState({amount: value})\r\n  }\r\n  onClick (i) {\r\n    this.setState({dayIndex: i})\r\n  }\r\n  info (cost) {\r\n    // alert('提 示', this.data.item.card_open_tip, [{text: '确 定'}])\r\n    this.fetchFee(cost)\r\n  }\r\n  closeFee () {\r\n    this.setState({fee: null})\r\n  }\r\n  onKnow (data) {\r\n    post('http://credit.xianjincard.com/credit-loan/confirm-failed-loan', {id: data.id}).then((result) => {\r\n      // console.log(result)\r\n      if (result.data.code !== 0) {\r\n        Toast.info(result.data.message, 2)\r\n        return\r\n      }\r\n      location.href = data.active_url\r\n    })\r\n  }\r\n  closeApp () {\r\n    localStorage.removeItem('isOpenApp')\r\n    this.setState({isOpenApp: false})\r\n  }\r\n  openAppHandler () {\r\n    openApp()\r\n    this.closeApp()\r\n  }\r\n  createOpenApp () {\r\n    return <div class=\"home-open-app\"><span onClick={this.openAppHandler.bind(this)}></span><span onClick={this.closeApp.bind(this)}></span></div>\r\n  }\r\n  createLoan (data) {\r\n    if (this.data.is_login !== 1) {\r\n      alert('登录', '你还没有登录，请先登录', [\r\n        { text: '确 定', onPress: () => login() }\r\n      ])\r\n      return\r\n    }\r\n    if (data.verify_loan_pass !== 1) {\r\n      redirect.push('/mobile/certification')\r\n      return\r\n    }\r\n\r\n    const max = data.amount_days.amounts[data.amount_days.amounts.length - 1] / 100\r\n\r\n    if (this.data.double_repayment >= 1) {\r\n      alert('下载App', '您目前只有1000额度，下载app申请借款可借更高的额度', [\r\n        { text: '取消', onPress: () => redirect.push(`/mobile/loan/${data.card_type}/${data.amount_days.days[this.state.dayIndex]}/${this.state.amount || max}`) },\r\n        { text: '确定', onPress: () => forwardApp() }\r\n      ])\r\n      return\r\n    }\r\n\r\n    redirect.push(`/mobile/loan/${data.card_type}/${data.amount_days.days[this.state.dayIndex]}/${this.state.amount || max}`)\r\n    // this.confirmLoan({card_type: data.card_type, period: data.amount_days.days[this.state.dayIndex], money: (this.state.amount || max)})\r\n  }\r\n  confirmLoan (params) {\r\n    Toast.loading('加载中...')\r\n    post('http://credit.xianjincard.com/credit-loan/get-confirm-loan', params).then((result) => {\r\n      Toast.hide()\r\n      // 不能再借\r\n      if (result.data.code === -1) {\r\n        alert('提示', result.data.message, [{text: '确 定'}])\r\n        return\r\n      }\r\n      if (result.data.code !== 0) {\r\n        Toast.info(result.data.message, 2)\r\n        return\r\n      }\r\n      redirect.push(`/mobile/loan/${params.card_type}/${params.period}/${params.money}`)\r\n    })\r\n  }\r\n  createSlider (data) {\r\n    const mix = parseInt(data.amounts[0] / 100)\r\n    const max = parseInt(data.amounts[data.amounts.length - 1] / 100)\r\n    return (\r\n      <div>\r\n        <Slider orientation=\"horizontal\" onChange={this.onChange.bind(this)} defaultValue={max} step={100} min={mix} max={max} withBars={true}/>\r\n        <p class=\"slider-range\"><span>{mix}元</span><span>{max}元</span></p>\r\n      </div>\r\n    )\r\n  }\r\n  create (result) {\r\n    const data = result.amount_days\r\n    const max = parseInt(data.amounts[data.amounts.length - 1]) / 100\r\n    const interest = data.interests[this.state.dayIndex] / 100 / max\r\n    const cost = ((this.state.amount || max) * interest)\r\n    const button = data.days.map((v, i) => <Button class={this.state.dayIndex === i && 'active'} key={i} onClick={this.onClick.bind(this, i)} type=\"primary\">{v}天</Button>)\r\n    return (\r\n      <div class=\"content\">\r\n        {data.amounts.length > 1 && this.createSlider(data)}\r\n        <div class=\"day\"><span>{button}</span><span>借款时间</span></div>\r\n        <p><span>到帐金额</span><span class=\"amount\">{data.amount_text || currency((this.state.amount || max) - cost)}</span></p>\r\n        <p><span onClick={this.info.bind(this, cost)} class=\"icon\">综合费用</span><span class=\"amount\">{data.interests_text || currency(cost)}</span></p>\r\n        <Button onClick={this.createLoan.bind(this, result)} class=\"btn\" type=\"primary\">马上申请</Button>\r\n      </div>\r\n    )\r\n  }\r\n  repayment (data) {\r\n    return (\r\n      <div class=\"content repayment\">\r\n        <h3>{data.span_repayment_money}</h3>\r\n        <h1>{data.repayment_money}</h1>\r\n        <div>\r\n          <p><span>{data.span_fee_time}</span><span>{data.plan_fee_time}</span></p>\r\n          <p><span>{data.span_loan_amount}</span><span>{data.loan_amount}</span></p>\r\n          <p><span>{data.span_order_time}</span><span>{data.order_time}</span></p>\r\n          <a href={data.loan_detail_url}>我要还款</a>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  steps (data) {\r\n    return (\r\n      <div>\r\n        <div class=\"repayment-list\">\r\n          <ul> {data.lists.map((v, i) => <li key={i} class={i === 0 && 'do'}><h1>{v.title}</h1><p>{v.body}</p></li>)} </ul>\r\n        </div>\r\n        {data.button && <div class=\"repayment-btn\"><Button class=\"btn\" onClick={this.onKnow.bind(this, data.button)}>{data.button.msg}</Button></div>}\r\n      </div>\r\n    )\r\n  }\r\n  card (card, i) {\r\n    const url = this.data.is_login === 1 ? (card.amount_sub_url || '#') : resolveUrl('http://h5.xianjincard.com/mobile/index.html#/login?redirect_url=' + encodeURIComponent(location.href))\r\n    return (\r\n      <div key={i} class={card.card_type === 2 ? 'wrap gold-card' : 'wrap'}>\r\n        <h1>{card.card_title}</h1>\r\n        <div class=\"credit\">\r\n          <p class=\"title\">{card.card_subtitle}</p>\r\n          <h2>{card.card_title}</h2>\r\n          <p class=\"quota\">信用额度 (元)</p>\r\n          <div class={`number card-heart-${card.card_type}`}><h3 class={card.amount_title && 'amount-title'}>{card.amount_title || card.card_amount / 100}</h3></div>\r\n          <p class=\"credit-number\">{card.card_no}</p>\r\n          <div class=\"info\"><a href={url}>{card.amount_sub_title}</a><span>{card.card_validity}</span></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  createFee (fee) {\r\n    return (\r\n      <div class=\"popup-fee\" onClick={this.closeFee.bind(this)}>\r\n        <div class=\"fee\">\r\n          <h2>{fee.title}</h2>\r\n          <ul>\r\n            {fee.item.map((v, i) => <li key={i}><span>{v.text}</span><span>{v.fee}</span></li>)}\r\n            <li><span>{fee.total.text}</span><span>{fee.total.fee}</span></li>\r\n          </ul>\r\n        <Button class=\"btn\" onClick={this.closeFee.bind(this)}>{fee.button}</Button>\r\n        <p>{fee.tip}</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  carouselCard (card) {\r\n    if (card.length > 1) {\r\n      return (\r\n        <Carousel dots={card.length > 1} autoplay={false} selectedIndex={0} afterChange={this.selected.bind(this)}>\r\n          {card.map((v, i) => this.card(v, i))}\r\n        </Carousel>\r\n      )\r\n    }\r\n    return <div>{card.map((v, i) => this.card(v, i))}</div>\r\n  }\r\n  render () {\r\n    const row = (rowData, sectionID, rowID) => {\r\n      const card = rowData.item.card[this.state.cardIndex]\r\n      return (\r\n        <div class=\"loan-home\" key={rowID}>\r\n          {this.carouselCard(rowData.item.card)}\r\n          <Carousel className=\"carousel\" dots={false} dragging={false} swiping={false} autoplay infinite vertical >\r\n            {rowData.user_loan_log_list.length > 0 && rowData.user_loan_log_list.map((v, i) => <div key={i}>{v}</div>)}\r\n          </Carousel>\r\n          {!card['repayment_infos'] && !card['loan_infos'] && card && this.create(card)}\r\n          {card['loan_infos'] && this.steps(card['loan_infos'])}\r\n          {card['repayment_infos'] && this.repayment(card['repayment_infos'])}\r\n        </div>\r\n      )\r\n    }\r\n    return (\r\n      <div>\r\n        {this.state.fee && this.createFee(this.state.fee)}\r\n        {this.state.isOpenApp && this.createOpenApp()}\r\n        <ListView\r\n          class='xjk-refresh'\r\n          dataSource={this.state.dataSource}\r\n          renderRow={row}\r\n          initialListSize={5}\r\n          pageSize={5}\r\n          scrollRenderAheadDistance={200}\r\n          scrollEventThrottle={20}\r\n          style={{height: document.documentElement.clientHeight}}\r\n          refreshControl={\r\n          <RefreshControl\r\n            refreshing={this.state.refreshing}\r\n            icon={[<div key=\"0\" className=\"am-refresh-control-pull\"> <Icon type=\"arrow-down\"/><span>科技让金融更简单</span></div>, <div key=\"1\" className=\"am-refresh-control-release\"> <Icon type=\"arrow-up\"/><span>科技让金融更简单</span></div>]}\r\n            distanceToRefresh={40 * window.lib.flexible.dpr}\r\n            onRefresh={this.onRefresh.bind(this)}/>\r\n          }/>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n"]}