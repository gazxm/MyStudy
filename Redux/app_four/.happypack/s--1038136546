'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactHotLoader = require('react-hot-loader');

var _utils = require('./utils');

var _routes = require('./routes');

var _routes2 = _interopRequireDefault(_routes);

require('../assets/scss/main.scss');

var _axios = require('axios');

var _axios2 = _interopRequireDefault(_axios);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

require('string.prototype.startswith');
require('string.prototype.endswith');
require('es6-promise').polyfill();
require('flexible');
// require('babel-polyfill')

(0, _utils.census)();

_axios2.default.defaults.withCredentials = true;
_axios2.default.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';

var app = document.getElementById('app');

if (process.env.NODE_ENV === 'develop') {
  _reactDom2.default.render(_react2.default.createElement(_reactHotLoader.AppContainer, null, _react2.default.createElement(_routes2.default, null)), app);
  if (module.hot) {
    module.hot.accept('./routes', function () {
      var NextApp = require('./routes').default;
      _reactDom2.default.render(_react2.default.createElement(_reactHotLoader.AppContainer, null, _react2.default.createElement(NextApp, null)), app);
    });
  }
} else {
  _reactDom2.default.render(_react2.default.createElement(_routes2.default, null), app);
}