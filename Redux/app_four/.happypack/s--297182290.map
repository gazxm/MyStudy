{"version":3,"sources":["src\\js\\pages\\employer\\Login.js"],"names":["Login","props","submit","form","validateFields","error","value","loading","then","data","hide","code","setState","errorMessage","message","push","state","document","title","errors","getFieldProps","getFieldError","onChange","bind","rules","required","join","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAEA;;AAEA;;AACA;;;;AACA;;;;;;IAEM,A;iCACJ;;iBAAA,AAAa,OAAO;wCAAA;;oIAAA,AACZ;;UADY,AAWpB,SAAS,YAAM,AACb;YAAA,AAAK,MAAL,AAAW,KAAX,AAAgB,eAAe,UAAA,AAAC,OAAD,AAAQ,OAAU,AAC/C;YAAI,CAAJ,AAAK,OAAO,AACV;0BAAA,AAAM,QAAN,AAAc,AACd;2BAAA,AAAK,mDAAL,AAAwD,OAAxD,AAA+D,KAAK,gBAAA;mBAAQ,KAAR,AAAa;AAAjF,aAAA,AAAuF,KAAK,gBAAQ,AAClG;4BAAA,AAAM,AACN;gBAAI,KAAA,AAAK,SAAS,CAAlB,AAAmB,GAAG,AACpB;oBAAA,AAAK,SAAS,EAAC,cAAc,KAA7B,AAAc,AAAoB,AAClC;AACD;AACD;gBAAI,KAAA,AAAK,SAAS,CAAlB,AAAmB,GAAG,AACpB;8BAAA,AAAS,KAAT,AAAc,AACd;AACD;AACD;kBAAA,AAAK,SAAS,EAAC,cAAf,AAAc,AAAe,AAC9B;AAXD,AAYD;AACF;AAhBD,AAiBD;AA7BmB,AAElB;;UAAA,AAAK;oBAFa,AAElB,AAAa,AACG;AADH,AACX;WAEH;;;;;wCAEoB,AACnB;eAAA,AAAS,QAAT,AAAiB,AAClB;;;;+BAsBW,AACV;WAAA,AAAK;sBAAL,AAAc,AACE,AAEjB;AAHe,AACZ;;;;6BAIM,AACR;UAAI,cADI,AACR;wBACyC,KAAA,AAAK,MAFtC,AAE4C;UAF5C,AAEA,4BAFA,AAEA;UAFA,AAEe,4BAFf,AAEe,AACvB;;aACE,gBAAA,cAAA,SAAK,WAAL,AAAe,AACb,6EAAA,cAAA,SAAK,WAAL,AAAe,AACb,2BAAA,0BAAA,oCAAe,cAAA,AAAc,aAAa,EAAC,UAAU,KAAA,AAAK,SAAL,AAAc,KAAzB,AAAW,AAAmB,OAAO,OAAO,CAAC,EAAC,UAAD,AAAW,MAAM,SAAxG,AAAe,AAA2B,AAA4C,AAAC,AAA0B,mBAAe,aAAhI,AAA4I,2CAD9I,AACE,AACA,6CAAA,0BAAA,kCAAW,WAAX,AAAqB,oBAAqB,cAAA,AAAc,aAAa,EAAC,UAAU,KAAA,AAAK,SAAL,AAAc,KAAzB,AAAW,AAAmB,OAAO,OAAO,CAAC,EAAC,UAAD,AAAW,MAAM,SAAnI,AAA0C,AAA2B,AAA4C,AAAC,AAA0B,kBAAc,aAA1J,AAAsK,kCAAQ,MAA9K,AAAmL,eAFrL,AAEE,AACA,uCAAA,cAAA,SAAK,WAAL,AAAe,AAAS,YAAC,SAAS,cAAA,AAAc,gBAAgB,cAAxC,AAAwC,AAAc,gBAAgB,OAAA,AAAO,KAA7E,AAAsE,AAAY,OAA1G,AAAiH,AAAM,WAAA,AAAK,MAH9H,AAGE,AAAkI,AAClI,+BAAA,uBAAA,WAAQ,WAAR,AAAkB,iBAAgB,SAAS,KAA3C,AAAgD,UANtD,AACE,AACE,AAIE,AAIP;;;;EAnDiB,gBAAM,A;;kBAsDX,0BAAA,AAAa,A","file":"Login.js","sourceRoot":"E:/MyStudy/Redux/app_four","sourcesContent":["import React from 'react'\r\nimport { InputItem, Button } from 'antd-mobile'\r\nimport { createForm } from 'rc-form'\r\n\r\nimport {redirect, post} from 'utils'\r\nimport Toast from '../../components/Toast'\r\nimport 'scss/components/employer.component.scss'\r\n\r\nclass Login extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      errorMessage: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    document.title = '资金方查询'\r\n  }\r\n\r\n  submit = () => {\r\n    this.props.form.validateFields((error, value) => {\r\n      if (!error) {\r\n        Toast.loading('')\r\n        post('http://credit.xianjincard.com/credit-fund/login', value).then(data => data.data).then(data => {\r\n          Toast.hide()\r\n          if (data.code === -2) {\r\n            this.setState({errorMessage: data.message})\r\n            return\r\n          }\r\n          if (data.code === -1) {\r\n            redirect.push('/employer/list')\r\n            return\r\n          }\r\n          this.setState({errorMessage: '服务器繁忙，请稍候再试'})\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  onChange () {\r\n    this.setState({\r\n      errorMessage: ''\r\n    })\r\n  }\r\n\r\n  render () {\r\n    let errors\r\n    const { getFieldProps, getFieldError } = this.props.form\r\n    return (\r\n      <div className=\"transition-group fund-security-certification login-body\">\r\n        <div className='login'>\r\n          <InputItem {...getFieldProps('user_name', {onChange: this.onChange.bind(this), rules: [{required: true, message: '用户名不能为空'}]})} placeholder='请输入用户名'>用户名：</InputItem>\r\n          <InputItem className=\"input-password\" {...getFieldProps('pass_word', {onChange: this.onChange.bind(this), rules: [{required: true, message: '密码不能为空'}]})} placeholder='请输入密码' type='password'>密码：</InputItem>\r\n          <div className='error'>{(errors = getFieldError('user_name') || getFieldError('pass_word')) ? errors.join(',') : null}{this.state.errorMessage}</div>\r\n          <Button className='btn login-btn' onClick={this.submit}>登录</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default createForm()(Login)\r\n"]}