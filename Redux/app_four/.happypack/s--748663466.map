{"version":3,"sources":["src\\js\\pages\\activity\\mother-day\\Share.js"],"names":["animNum","animFlag","locked","Share","props","state","anim1","anim2","animA","animR","src1","src2","document","title","isIos","setTimeout","audio","setState","animation","opacity","display","refs","paused","load","play","pause","bind","anim","Component"],"mappings":"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","file":"Share.js","sourceRoot":"E:/MyStudy/Redux/app_four","sourcesContent":["import React from 'react'\r\nimport { share, platform } from 'utils'\r\nimport 'img/activity/mother-day/mother-01.jpg'\r\nimport 'img/activity/mother-day/mother-02.jpg'\r\nimport 'img/activity/mother-day/mother-03.jpg'\r\nimport 'img/activity/mother-day/mother-04.jpg'\r\nimport 'img/activity/mother-day/mother-05.jpg'\r\nimport 'img/activity/mother-day/mother-09.jpg'\r\nimport 'audio/activity/mother-day/bgm.mp3'\r\nimport 'audio/activity/mother-day/bgm.wma'\r\nimport 'audio/activity/mother-day/bgm.ogg'\r\nimport 'scss/activity/mother-day.component.scss'\r\n\r\nconst animNum = 3\r\nlet animFlag = 0\r\nlet locked = 1\r\n\r\nexport default class Share extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      anim1: {},\r\n      anim2: {},\r\n      animA: {},\r\n      animR: {},\r\n      src1: '../../assets/img/activity/mother-day/mother-01.jpg',\r\n      src2: '../../assets/img/activity/mother-day/mother-02.jpg'\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    document.title = '庆祝母亲节'\r\n    share('mother')\r\n    if (!platform.isIos) {\r\n      setTimeout(() => {\r\n        this.audio()\r\n      }, 500)\r\n    }\r\n  }\r\n\r\n  anim () {\r\n    if (animFlag === 0 && locked) {\r\n      locked = 0\r\n      this.setState({\r\n        anim1: {animation: `one ${animNum}s ease 1 forwards`},\r\n        anim2: {animation: `two ${animNum}s ease 1 forwards`}\r\n      })\r\n      setTimeout(() => {\r\n        this.setState({\r\n          anim1: {},\r\n          anim2: {},\r\n          src1: '../../assets/img/activity/mother-day/mother-02.jpg',\r\n          src2: '../../assets/img/activity/mother-day/mother-03.jpg'\r\n        })\r\n        locked = 1\r\n      }, animNum * 1000)\r\n      animFlag++\r\n    } else if (animFlag === 1 && locked) {\r\n      locked = 0\r\n      this.setState({\r\n        anim1: {animation: `three ${animNum}s ease 1 forwards`},\r\n        anim2: {animation: `four ${animNum}s ease 1 forwards`}\r\n      })\r\n      setTimeout(() => {\r\n        this.setState({\r\n          anim1: {},\r\n          anim2: {},\r\n          src1: '../../assets/img/activity/mother-day/mother-03.jpg',\r\n          src2: '../../assets/img/activity/mother-day/mother-04.jpg'\r\n        })\r\n        locked = 1\r\n      }, animNum * 1000)\r\n      animFlag++\r\n    } else if (animFlag === 2 && locked) {\r\n      locked = 0\r\n      this.setState({\r\n        anim1: {animation: `five ${animNum}s ease 1 forwards`},\r\n        anim2: {animation: `six ${animNum}s ease 1 forwards`}\r\n      })\r\n      setTimeout(() => {\r\n        this.setState({\r\n          anim1: {},\r\n          anim2: {opacity: 0},\r\n          src1: '../../assets/img/activity/mother-day/mother-04.jpg',\r\n          src2: '../../assets/img/activity/mother-day/mother-05.jpg'\r\n        })\r\n        locked = 1\r\n      }, animNum * 1000)\r\n      animFlag++\r\n    } else if (animFlag === 3 && locked) {\r\n      locked = 0\r\n      this.setState({\r\n        anim1: {animation: `seven ${animNum}s ease 1 forwards`},\r\n        anim2: {animation: `seven ${animNum}s linear 1 reverse forwards`},\r\n        animA: {animation: `seven ${animNum}s ease 1 forwards`}\r\n      })\r\n      setTimeout(() => {\r\n        this.setState({\r\n          anim1: {display: 'none'},\r\n          animA: {display: 'none'}\r\n        })\r\n      }, animNum * 1000)\r\n    }\r\n  }\r\n\r\n  audio () {\r\n    const audio = this.refs.audio\r\n    if (audio.paused) {\r\n      this.setState({\r\n        animR: {animation: `r ${animNum}s linear infinite`}\r\n      })\r\n      audio.load()\r\n      audio.play()\r\n    } else {\r\n      this.setState({\r\n        animR: {}\r\n      })\r\n      audio.pause()\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { anim1, anim2, src1, src2, animA, animR } = this.state\r\n    return (\r\n      <div className='transition-group'>\r\n        <div className='mother'>\r\n          <img className='bg1' src={src1} style={anim1} />\r\n          <img className='bg2' src={src2} style={anim2} />\r\n          <div className='audio-div' style={animR} onClick={this.audio.bind(this)}>\r\n            <audio ref='audio' loop>\r\n              <source type='audio/mpeg' src='../../assets/audio/activity/mother-day/bgm.mp3' />\r\n              <source type='audio/mpeg' src='../../assets/audio/activity/mother-day/bgm.wma' />\r\n              <source type='audio/ogg' src='../../assets/audio/activity/mother-day/bgm.ogg' />\r\n            </audio>\r\n          </div>\r\n          <a className='anim-a' onClick={this.anim.bind(this)} style={animA}>点一下</a>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}